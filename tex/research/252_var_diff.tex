% This is part of Giulietta
% Copyright (c) 2010-2017, 2019, 2021-2024
%   Laurent Claessens
% See the file fdl-1.3.txt for copying conditions.


%+++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Product of manifolds}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++

%-------------------------------------------------------
\subsection{Definition, charts}
%----------------------------------------------------


\begin{propositionDef}[\cite{MonCerveau}]      \label{DEFooYOLXooDPrnHa}
	Let \( \big( M,\{ \varphi_{\alpha} \}_{\alpha\in \Lambda} \big)\) and \( \big( N,\{ \phi_i \}_{i\in I} \big)\) be smooth manifolds. We consider the maps
	\begin{equation}
		\begin{aligned}
			\sigma_{\alpha,i}\colon U_{\alpha}\times U_i & \to M\times N                                       \\
			(x,y)                                        & \mapsto \big( \varphi_{\alpha}(x), \phi_i(y) \big).
		\end{aligned}
	\end{equation}
	\begin{enumerate}
		\item
		      The maps \( \sigma_{\alpha i}\) give a smooth manifold structure on \( M\times N\).
		\item
		      The manifold topology on \( M\times N\) is the same as the product topology on \( M\times N\).
	\end{enumerate}
\end{propositionDef}

\begin{proof}
	Several parts.
	\begin{proofpart}
		Topological manifold
	\end{proofpart}
	We use the theorem \ref{THOooFIHIooLiSUxH}. As far as the notations are concerned, we say that \( U_{\alpha}\) is open in the normed space \( E_{\alpha}\).
	\begin{enumerate}
		\item
		      The part \( U_{\alpha}\times U_i\) is open in \( E_{\alpha}\times E_i\).
		\item
		      We have to show that \( \bigcup_{\alpha,i\in \Lambda\times I}\sigma_{\alpha,i}(U_{\alpha}\times U_i)=M\times N\). Let \( (m,n)\in M\times N\). There exists \( \alpha\in \Lambda\) and \( i\in I\) such that \( m\in \varphi_{\alpha}(U_{\alpha}) \) and \( n\in \phi_i(U_i)\). If \( x=\varphi_{\alpha}^{-1}(m)\) and \( y=\phi^{-1}_i(n)\), we have
		      \begin{equation}
			      (m,n)=\sigma_{\alpha,i}(x,y).
		      \end{equation}
		\item
		      For each \( (\alpha,i)\) the map \( \sigma_{\alpha,i}\) is injective because \( \varphi_{\alpha}\) and \( \phi_i\) are injective.
		\item
		      We prove that for every \( \alpha\), \( \beta\), \( i\), \( j\), the set
		      \begin{equation}
			      \sigma_{\alpha i}^{-1}\big( \sigma_{\alpha i}(U_{\alpha}\times U_i)\cap \sigma_{\beta j}(U_{\beta}\times U_j) \big)
		      \end{equation}
		      is open in \( E_{\alpha}\times E_i\). With obvious notations, \( \sigma_{\alpha,i}=\varphi_{\alpha}\times \phi_i\), so
		      \begin{subequations}
			      \begin{align}
				      (\varphi_{\alpha}\times \phi_i)^{-1} & \Big( \varphi_{\alpha}(U_{\alpha})\times \phi_i(U_i)\cap \varphi_{\beta}(U_{\beta})\times \phi_j(U_j) \Big)                                               \\
				                                           & = (\varphi_{\alpha}\times \phi_i)^{-1}\Big( [\varphi_{\alpha}(U_{\alpha})\cap \varphi_{\beta}(U_{\beta})]\times [\phi_i(U_i)\cap \phi_j(U_j)] \Big)       \\
				                                           & = \varphi_{\alpha}^{-1}\Big( \varphi_{\alpha}(U_{\alpha})\cap\varphi_{\beta}(U_{\beta}) \Big)\times \phi_i^{-1}\Big( \phi_i(U_i)\times \phi_j(U_j) \Big),
			      \end{align}
		      \end{subequations}
		      which is open in product space as product of open sets.
	\end{enumerate}
	At this point we know that \( M\times N\) is a topological manifold.

	\begin{proofpart}
		Smooth manifold
	\end{proofpart}
	%TODOooUEEIooRLKcQS. Prouver que le tout est une variété C^{\infty}.
	\begin{proofpart}
		Product topology
	\end{proofpart}
	Let \( \tau_M\) be the topology of \( M\), let \( \tau_N\) be the topology of \( N\). The set \( M\times N\) has at least two topologies : \( \tau_p\) is the product topology\footnote{Product of topology, definition \ref{DefIINHooAAjTdY}.} and \( \tau_d\) the topology induced by the maps \( \sigma_{\alpha i}\) by the theorem \ref{THOooFIHIooLiSUxH}. Here we prove that \( \tau_p=\tau_d\).

	\begin{subproof}
		\spitem[\( \tau_p\subset \tau_d\)]
		%-----------------------------------------------------------
		Let \( \mO\in\tau_p\). In order to see that \( \mO\in \tau_d\), we consider \( (m,n)\in \mO\) and we prove that \( \tau_d\) contains a neighbourhood of \( (m,n)\) contained in \( \mO\). Since \( \mO\) is open for the product topology, there exists \( A_m\in\tau_M\) and \( B_n\in \tau_N\) such that
		\begin{equation}
			(m,n)\in A_m\times A_n\subset\mO.
		\end{equation}
		We consider a map \( \varphi_m\) of \( M\) around \( m\) and \( \varphi_n\) of \( n\) around \( d\) and we set
		\begin{equation}
			\begin{aligned}[]
				A'_m & =A_m\cap \varphi_m(U_m)  \\
				B'_n & =B_n\cap \varphi_n(U_n).
			\end{aligned}
		\end{equation}
		We have
		\begin{equation}
			(m,n)\in A'_m\times B'_n\subset \mO
		\end{equation}
		and
		\begin{equation}
			\mO=\bigcup_{(m,n)\in \mO}A'_m\times B'_n,
		\end{equation}
		so that we have to prove that \( A'_m\times B'_n\in\tau_d\). We have
		\begin{equation}
			A'_m\times B'_n=\sigma_{mn}\big( \varphi_m^{-1}(A'_m)\times \phi_n^{-1}(B'_n) \big),
		\end{equation}
		and then
		\begin{equation}		\label{EQooAMYEooMZVThm}
			\sigma_{mn}^{-1}(A'_m\times B'_n)=\varphi_m^{-1}(A'_m)\times \phi_n^{-1}(B'_n).
		\end{equation}

		We know that
		\begin{equation}
			\varphi_m^{-1}(A'_m)=\varphi_m^{-1}\big(A_m\cap\varphi_m(U_m)\big).
		\end{equation}
		Since \( A_m\) and \( \varphi_m(U_m)\) are open, the whole is open: \( \varphi_m^{-1}(A'_m)\) is open in \( E_m\). We deduce that \eqref{EQooAMYEooMZVThm} is open in \( E_m\times E_n\).

		\spitem[\( \tau_d\subset\tau_p\)]
		%-----------------------------------------------------------
		Let \( \mO\in\tau_d\). Let \( (m,n)\in\mO\). We want to find \( A_m\in\tau_M\) and \( B_n\in \tau_N\) such that
		\begin{equation}		\label{EQooASLNooIAslfO}
			(m,n)\in A_m\times A_n\subset \mO.
		\end{equation}
		Recall that
		\begin{equation}
			\{ \sigma_{\alpha,i}(S)\tq S\text{ is open in }U_{\alpha}\times U_i \}
		\end{equation}
		is a basis of the topology \( \tau_d\). Thus there exists an open \( S\) of \( U_{\alpha}\times U_i\) such that
		\begin{equation}
			(m,n)\in\sigma_{m,n}(S)\subset \mO.
		\end{equation}
		By definition of the product topology on \( E_{\alpha}\times E_i\) there exists open part \( S_m\) around \( \varphi_m^{-1}(m)\) and \( S_n\) around \( \phi_i^{-1}(n)\) such that \( S_m\times S_n\subset S\). We consider \( A_m=\varphi_m(S_m)\) and \( B_n=\phi_n(S_n)\) and we prove that they satisfy \eqref{EQooASLNooIAslfO}.

		We have
		\begin{subequations}
			\begin{align}
				(m,n) & =\sigma_{m,n}\big( \varphi_m^{-1}(m), \phi_n^{-1}(n) \big) \\
				      & \in \sigma_{m,n}(S_m\times S_n)                            \\
				      & =\varphi_m(S_m)\times \phi_n(S_n)                          \\
				      & =A_m\times B_n,
			\end{align}
		\end{subequations}
		and
		\begin{equation}
			A_m\times B_n=\sigma_{m,n}(S_m\times S_n)\subset \sigma_{m,n}(S)\subset\mO.
		\end{equation}
	\end{subproof}
\end{proof}

\begin{proposition}[\cite{MonCerveau}]      \label{PROPooCHVLooVFScOl}
	Let \( \mA\) be a class of functions: \( C^k\), smooth or analytic.  Let \( M\) and \( N\) be \( \mA\)-manifolds.
	\begin{enumerate}
		\item
		      The permutation
		      \begin{equation}
			      \begin{aligned}
				      \sigma\colon M\times N & \to N\times M \\
				      (p,q)                  & \mapsto (q,p)
			      \end{aligned}
		      \end{equation}
		      is in the class \( \mA\).
		\item       \label{ITEMooRFFAooRSeBPl}
		      The projection
		      \begin{equation}
			      \begin{aligned}
				      \pi_1\colon M\times N & \to M     \\
				      (p,q)                 & \mapsto p
			      \end{aligned}
		      \end{equation}
		      is in the class \( \mA\).
		\item
		      Let \( p\in M\). The inclusion map
		      \begin{equation}
			      \begin{aligned}
				      \iota\colon N & \to M\times N \\
				      q             & \mapsto (p,q)
			      \end{aligned}
		      \end{equation}
		      is in the class \( \mA\).
	\end{enumerate}
	%TODOooTZBBooPcWcyZ. Prouver ça.
\end{proposition}

\begin{proposition}[\cite{MonCerveau}]	\label{PROPooXFUTooCNzDHf}
	Let \( M_1\), \( M_2\), \( N_1\) and \( N_2\) be smooth manifolds. Let \(f \colon M_1\to N_1  \) and \(g \colon M_2\to N_2  \) be smooth maps. Then the map
	\begin{equation}
		\begin{aligned}
			f\times g\colon M_1\times M_2 & \to N_1\times N_2              \\
			(a,b)                         & \mapsto \big( f(a), g(b) \big)
		\end{aligned}
	\end{equation}
	is smooth.
	%TODOooNHTGooUaiidf. Prouver ça.
\end{proposition}


%--------------------------------------------------------------------------------------------------------------------------- 
\subsection{Tangent vector}
%---------------------------------------------------------------------------------------------------------------------------


\begin{normaltext}		\label{NORMooPEHNooAiyUqc}
	If \(f \colon M\times N\to  \eR  \) and \( (m,n)\in M\times N\) are given, we consider the maps
	\begin{equation}
		\begin{aligned}
			f_1\colon M & \to \eR        \\
			p           & \mapsto f(p,n)
		\end{aligned}
	\end{equation}
	and \begin{equation}
		\begin{aligned}
			f_2\colon N & \to \eR         \\
			q           & \mapsto f(m,q).
		\end{aligned}
	\end{equation}
\end{normaltext}

\begin{lemma}[\cite{MonCerveau}]	\label{LEMooYUUCooDsSyuO}
	Let \( M,N\) be smooth manifolds. Let \( m\in M\) and \( n\in N\). If \(\gamma \colon \eR\to M\times N  \) is smooth, we denote by \(\gamma_1 \colon \eR\to M  \) and \(\gamma_2 \colon \eR\to N  \) the paths such that \( \gamma(t)=\big( \gamma_1(t),\gamma_2(t) \big)\).

	The maps \( \gamma_1\) and \( \gamma_2\) are smooth.
	%TODOooIIGQooDiWlZf. Prouver ça.
\end{lemma}

\begin{proposition}[\cite{MonCerveau}]	\label{PROPooAKWIooGxTwnQ}
	Let \( M,N\) be smooth manifolds. Let \( m\in M\) and \( n\in N\). If \(\gamma \colon \eR\to M\times N  \) is smooth, we denote by \(\gamma_1 \colon \eR\to M  \) and \(\gamma_2 \colon \eR\to N  \) the paths such that \( \gamma(t)=\big( \gamma_1(t),\gamma_2(t) \big)\).

	We fix \( (m,n)\in M\times N\) and for a smooth map \(f \colon M\times N\to \eR  \). Then we have\footnote{With the notations of \ref{NORMooPEHNooAiyUqc}.}
	\begin{equation}
		\nabla_{\gamma}(f)=\nabla_{\gamma_1}(f_1)+\nabla_{\gamma_2}(f_2).
	\end{equation}
\end{proposition}

\begin{proof}
	We consider a chat \(\varphi_{\alpha} \colon U_{\alpha}\to M  \) around \( m\) and \(\phi_i \colon U_i\to N  \) around \( n\). Then we consider the maps
	\begin{equation}
		\begin{aligned}
			\tilde \varphi_{\alpha}\colon U_{\alpha} & \to M\times N                              \\
			x                                        & \mapsto \big( \varphi_{\alpha}(x), n \big)
		\end{aligned}
	\end{equation}
	and
	\begin{equation}
		\begin{aligned}
			\tilde \phi_i\colon U_i & \to M\times N                    \\
			y                       & \mapsto \big( m,\phi_i(y) \big).
		\end{aligned}
	\end{equation}
	We have
	\begin{subequations}		\label{SUBEQSooXRISooUJIdlF}
		\begin{align}
			\nabla_{\gamma}(f) & =\frac{d}{dt} \left[ f\Big( \gamma_1(t),\gamma_2(t) \Big)  \right]_{t=0}                                                                        \\
			                   & =\frac{d}{dt} \left[ (f\circ\sigma_{\alpha,i})\Big( (\varphi_{\alpha}^{-1}\circ\gamma_1)(t),(\phi_i^{-1}\circ\gamma_2)(t) \Big)  \right]_{t=0}.
		\end{align}
	\end{subequations}
	We say \( \dim(M)=d_1\) and \( \dim(N)=d_2\). Let \( a=\varphi_{\alpha}^{-1}(m)\in U_{\alpha}\) and \( b=\phi_i^{-1}(n)\in U_i\). For \( k=1,\ldots,d_1\), we have
	\begin{subequations}
		\begin{align}
			\partial_k(f\circ\sigma_{\alpha,i})(a,b) & =\frac{d}{dt} \left[ (f\circ\sigma_{\alpha,i})(a_1,\ldots,a_{k-1},a_k+t,a_{k+1},\ldots,a_{d_1}, b_1,\ldots,d_{d_2})  \right]_{t=0} \\
			                                         & =\frac{d}{dt} \left[ f\big( \varphi_{\alpha}(a+te_k),\phi_i(b) \big)  \right]_{t=0}                                                \\
			                                         & =\frac{d}{dt} \left[ f\big( \tilde \varphi_{\alpha}(a+te_k) \big)  \right]_{t=0}                                                   \\
			                                         & =\partial_k(f\circ \tilde \varphi_{\alpha})(a).
		\end{align}
	\end{subequations}
	In the same way, for \( k=d_1+1,\ldots,d_2\) we have
	\begin{equation}
		\partial_k(f\circ\sigma_{\alpha,i})(a,b)=\partial_{k-d_1}(f\circ\tilde \phi_i)(b).
	\end{equation}
	Putting that in \eqref{SUBEQSooXRISooUJIdlF},
	\begin{subequations}
		\begin{align}
			\nabla_{\gamma}(f) & =\sum_{k=1}^{d_1}\partial_k(f\circ\tilde \varphi_{\alpha})(a)(\varphi_{\alpha}^{-1}\circ\gamma_1)_k'(0)+\sum_{k=d_1+1}^{d_1+d_2}\partial_{k-d_1}(f\circ\tilde \phi_i)(b)(\phi_i^{-1}\circ\gamma_2)_{k-d_1}(0) \\
			                   & =\sum_{k=1}^{d_1}\partial_k(f\circ\tilde \varphi_{\alpha})(a)(\varphi_{\alpha}^{-1}\circ\gamma_1)_k'(0)+\sum_{k=1}^{d_2}\partial_k(f\circ\tilde \phi_i)(b)(\phi_i^{-1}\circ\gamma_2)_k'(0).
		\end{align}
	\end{subequations}
	In order to simplify further, remark that
	\begin{equation}
		(f\circ\tilde \varphi_{\alpha})(x)=f\big( \varphi_{\alpha}(x),n \big)=(f_1\circ\varphi_{\alpha})(x).
	\end{equation}
	In other words, \( f\circ\tilde \varphi_{\alpha}=f_1\circ\varphi_{\alpha}\), and then
	\begin{equation}
		\sum_k\partial_k(f\circ\tilde \varphi_{\alpha})(a)(\varphi_{\alpha}^{-1}\circ\gamma_1)_k(0)=
		\sum_k\partial_k(f_1\circ\varphi_{\alpha})(a)(\varphi_{\alpha}^{-1}\circ\gamma_1)_k'(0).
	\end{equation}
	Using proposition \ref{PROPooMJKEooLvsYjl}, it reads
	\begin{equation}
		\nabla_{\gamma}(f)=\nabla_{\gamma_1}(f_1)+\nabla_{\gamma_2}(f_2).
	\end{equation}
\end{proof}


\begin{proposition}[\cite{MonCerveau}]	\label{PROPooPSELooDDwFru}
	Let \( M,N\) be smooth manifolds. Let \( m\in M\) and \( n\in N\). If \(\gamma \colon \eR\to M\times N  \) is smooth, we denote by \(\gamma_1 \colon \eR\to M  \) and \(\gamma_2 \colon \eR\to N  \) the paths such that\footnote{They are smooth by lemma \ref{LEMooYUUCooDsSyuO}.} \( \gamma(t)=\big( \gamma_1(t),\gamma_2(t) \big)\).

	The map
	\begin{equation}		\label{EQooYNFOooMqKQuQ}
		\begin{aligned}
			\mu\colon T_{(m,n)}(M\times N) & \to T_mM\times T_nN                                     \\
			\nabla_{\gamma}                & \mapsto \big( \nabla_{\gamma_1},\nabla_{\gamma_2} \big)
		\end{aligned}
	\end{equation}
	is a well defined vector space isomorphism.
\end{proposition}

\begin{proof}
	Several steps.
	\begin{subproof}
		\spitem[Well defined]
		%-----------------------------------------------------------
		Let \(\gamma,\alpha \colon \eR\to M\times N  \) such that \( \nabla_{\gamma}=\nabla_{\alpha}\). We have to prove that \( \nabla_{\gamma_i}=\nabla_{\alpha_i}\). Following the proposition \ref{PROPooAKWIooGxTwnQ}, we have
		\begin{equation}		\label{EQooSZLWooPSshZM}
			\nabla_{\gamma}(f)=\nabla_{\gamma_1}(f_1)+\nabla_{\gamma_2}(f_2)=\nabla_{\alpha}(f)=\nabla_{\alpha_1}(f_1)+\nabla_{\alpha_2}(f_2)
		\end{equation}
		for every function \( f\). We have to deduce \( \nabla_{\gamma_1}=\nabla_{\alpha_1}\). For that, let \(g \colon M\to \eR  \) and consider the function
		\begin{equation}
			\begin{aligned}
				f\colon M\times N & \to \eR       \\
				(p,q)             & \mapsto g(p).
			\end{aligned}
		\end{equation}
		We have \( f_1(p)=g(p)\) and \( f_2(q)=g(m)\). Notice that \( m\) being fixed from the beginning, the map \( f_2\) is constant, so that \( \nabla_{\gamma_2}(f_2)=\nabla_{\alpha_{2}}(f_2)=0\). Thus for this choice of \( f\), the relation \eqref{EQooSZLWooPSshZM} becomes
		\begin{equation}
			\nabla_{\gamma_1}(f_1)=\nabla_{\alpha_1}(f_1),
		\end{equation}
		in other words, \( \nabla_{\gamma_1}(g)=\nabla_{\alpha_1}(g)\). The function \( g\) being arbitrary we conclude that \( \nabla_{\gamma_1}=\nabla_{\alpha_1}\).

		The same kind of argument shows that \( \nabla_{\gamma_2}=\nabla_{\alpha_2}\). The map \( \mu\) is well defined.

		\spitem[\( \mu\) is injective]
		%-----------------------------------------------------------
		We prove that \( \mu\) is injective. If \(\alpha,\beta \colon \eR\to M\times N  \) satisfy \( \nabla_{\alpha}=\nabla_{\beta}\), then
		\begin{equation}
			\big( \nabla_{\alpha_1},\nabla_{\alpha_2} \big)=\big( \nabla_{\beta_1},\nabla_{\beta_2} \big)
		\end{equation}
		as we already seen in the "well defined part".

		\spitem[\( \mu\) is surjective]
		%-----------------------------------------------------------
		Let \(\alpha \colon \eR\to M  \) and \(\beta \colon \eR\to N  \). We need \(\gamma \colon \eR\to M\times N  \) such that \( \mu(\nabla_{\gamma})=\big( \nabla_{\alpha},\nabla_{\beta} \big)\). It is the case with
		\begin{equation}
			\gamma(t)=\big( \alpha(t), \beta(t) \big).
		\end{equation}
	\end{subproof}
\end{proof}


\begin{lemma}       \label{LEMooTONEooFiysTA}
	Let \( M\) and \( N\) be \( C^k\) manifolds\footnote{The product of manifolds is defined in \ref{DEFooYOLXooDPrnHa}.}. Let \( \gamma_M\colon I\to M\) and \( \gamma_N\colon I\to N\) be \( C^k\) paths. We define
	\begin{equation}
		\begin{aligned}
			\gamma\colon I & \to M\times N                                \\
			t              & \mapsto \big( \gamma_M(t),\gamma_N(t) \big).
		\end{aligned}
	\end{equation}
	We have:
	\begin{enumerate}
		\item
		      A vector space isomorphism \( T_{(a,b)}(M\times N)\simeq T_aM\times T_bN\).
		\item
		      Under that isomorphism,
		      \begin{equation}
			      \Dsdd{ \gamma(t) }{t}{0}=\big( \gamma_M'(0),\gamma_N'(0) \big).
		      \end{equation}
	\end{enumerate}
	%TODOooOMQWooNlqCfo. Prouver ça.
\end{lemma}

\begin{proposition}[\cite{MonCerveau}]	\label{PROPooJIFTooGboJoI}
	Let \( M\) and \( N\) be smooth manifolds. Let \(f \colon M\to \eR  \) and \(s \colon N\times N\to M  \) be smooth maps. We consider the partial maps
	\begin{equation}
		\begin{aligned}
			\ell_a\colon N & \to M          \\
			x              & \mapsto s(a,x)
		\end{aligned}
	\end{equation}
	et
	\begin{equation}
		\begin{aligned}
			r_b\colon N & \to M           \\
			x           & \mapsto s(x,b).
		\end{aligned}
	\end{equation}
	If \( X\in T_aN\) and \( Y\in T_bN\), we have
	\begin{equation}
		\mu^{-1}(X,Y)(f\circ s)=X(f\circ \ell_a)+Y(f\circ r_b)
	\end{equation}
	where \(\mu \colon T_{(a,b)}(N\times N)\to T_aN\times T_bN  \) is the is the isomorphism of proposition \eqref{PROPooPSELooDDwFru}.
	%TODOooMHOSooOfsDWH. Prouver ça.
\end{proposition}

\begin{proposition}[\cite{MonCerveau}]	\label{PROPooYACVooMwEhBj}
	Let \( M\) and \( N\) be \( C^k\) manifolds. We consider a \( C^k\) function \(f \colon M\times N\to \eR  \), a point \( (a,b)\in M\times N\) and \(X\in T_aM \). We have
	\begin{equation}
		\mu^{-1}(X,0)f=X(f_{1,b})
	\end{equation}
	where \( f_{1,b}\) is the function
	\begin{equation}
		\begin{aligned}
			f_{1,b}\colon M & \to \eR         \\
			m               & \mapsto f(m,b).
		\end{aligned}
	\end{equation}
	We also have
	\begin{equation}		\label{EQooNAGYooKZCLKz}
		\mu^{-1}(0,Y)f =Y(f_{2,a})
	\end{equation}
	when \( 0\in T_aM\) and \( Y\in T_bN\).
\end{proposition}

\begin{proof}
	Let \(\gamma_1 \colon \eR\to M  \) be a \( C^k\) map such that \( X=\gamma'(0)\). The vector \( 0\in T_bN\) is \( \gamma_2'(0)\) with \( \gamma_2(t)=b\) (the constant path). We have
	\begin{equation}
		\mu^{-1}(X,0)=\frac{d}{dt} \left[ \big( \gamma_1(t),b \big)  \right]_{t=0},
	\end{equation}
	so that
	\begin{subequations}
		\begin{align}
			\mu^{-1}(X,0)f & =\frac{d}{dt} \left[ f\big( \gamma_1(t),b \big)  \right]_{t=0}     \\
			               & =\frac{d}{dt} \left[ f_{1,b}\big( \gamma_1(t) \big)  \right]_{t=0} \\
			               & =X(f_{1,b}).
		\end{align}
	\end{subequations}
\end{proof}


%-------------------------------------------------------
\subsection{Vector field}
%----------------------------------------------------

\begin{proposition}[\cite{MonCerveau}]	\label{PROPooKGDFooQeEVOl}
	Let \( M\) and \( N\) be \( C^k\) manifolds. Let \(X \colon M\to TM  \) and \(Y \colon N\to TN  \) be \( C^k\) vector fields. Then the vector field
	\begin{equation}
		\begin{aligned}
			\mu^{-1}(X,Y)\colon M\times N & \to T(M\times N)          \\
			(m,n)                         & \mapsto \mu^{-1}(X_m,Y_n)
		\end{aligned}
	\end{equation}
	is \( C^k\).
\end{proposition}

\begin{proof}
	We consider a chart \(\varphi_{\alpha} \colon U_{\alpha}\to M  \) and a chart \(\varphi_i \colon U_i\to N  \). We know the charts of definitions \ref{THOooTSQXooLvJMQb} and \ref{DEFooYOLXooDPrnHa} on the tangent bundle and the product manifold. We have to check that the map
	\begin{equation}
		\psi_{\alpha i}^{-1}\circ\mu^{-1}(X,Y)\circ\sigma_{\alpha i} \colon U_{\alpha}\times U_i\to (U_{\alpha}\times U_i)\times \eR^{n+m}
	\end{equation}
	is \( C^k\).

	Since \( X\) and \( Y\) are \( C^k\) vector fields, there exists\footnote{Proposition \ref{PROPooXURIooYPytwa}.} \( C^k\) maps \(v \colon M\to \eR^m  \) and \(w \colon N\to \eR^n  \) such that \( X_m=\sum_kv_i(m)\partial_k\) and \( Y_n=\sum_kw_k(n)\partial_k\). We define \( v'=v\circ\varphi_{\alpha}\) and \( w'=w\circ\varphi_i\). First we have
	\begin{subequations}
		\begin{align}
			\mu^{-1}(X,Y)\circ\sigma_{\alpha i}(x,y) & =\mu^{-1}\left(   \sum_kv_k\big( \varphi_{\alpha}(x) \big)\partial_k,\sum_lw_l\big( \varphi_i(y) \big)\partial_j   \right)                                          \\
			                                         & =\mu^{-1}\left(   \frac{d}{dt} \left[ \varphi_{\alpha}\big( x+tv'(x) \big)  \right]_{t=0},\frac{d}{dt} \left[ \varphi_i\big( y+tw'(y) \big)  \right]_{t=0}  \right) \\
			                                         & =\frac{d}{dt} \left[ \varphi_{\alpha}\big( x+tv'(x) \big),\varphi_i\big( y+tw'(y) \big)  \right]_{t=0}	\label{SUBEQooTBBKooBqPykI}
		\end{align}
	\end{subequations}
	We can simplify the content of the derivative :
	\begin{subequations}
		\begin{align}
			\Big( \varphi_{\alpha}\big( x+tv'(x) \big),\varphi_i\big( y+tw'(y) \big) \Big) & =\sigma_{\alpha i}\Big( x+tv'(x),y+tw'(y) \Big)               \\
			                                                                               & =\sigma_{\alpha i}\Big( (x,y)+t\big( v'(x),w'(y) \big) \Big).
		\end{align}
	\end{subequations}
	Injecting in \eqref{SUBEQooTBBKooBqPykI} and applying \( \psi_{\alpha i}^{-1}\) we have
	\begin{subequations}
		\begin{align}
			\big( \psi_{\alpha i}^{-1}\circ\mu^{-1}(X,Y)\circ \sigma_{\alpha i} \big)(x,y) & =\psi_{\alpha i}^{-1}\frac{d}{dt} \left[ \sigma_{\alpha i}\Big( (x,y)+t\big( v'(x)+w'(y) \big) \Big)  \right]_{t=0} \\
			                                                                               & =\Big( (x,y),\big( v'(x),w'(y) \big) \Big).		\label{SUBEQooXLPXooEJapcW}
		\end{align}
	\end{subequations}
	Since \(v \colon M\to \eR^m  \) is \( C^k\), the map \( v'=v\circ\varphi_{\alpha}\) is \( C^k\) and we see that the expression \eqref{SUBEQooXLPXooEJapcW} is \( C^k\).
\end{proof}

%-------------------------------------------------------
\subsection{Differential}
%----------------------------------------------------

\begin{proposition}[\cite{MonCerveau}]	\label{PROPooFNVKooVxPulA}
	Let \( M,N,E\) be smooth manifolds. Let \(s \colon M\times N\to E  \) be a smooth map. We consider \( (m,n)\in M\times N\) and \( X=\gamma'(0)\in T_{(m,n)}(M\times N)\). For every smooth function \(f \colon M\times N\to \eR  \) we have\footnote{With the notations described in \ref{NORMooPEHNooAiyUqc}.}
	\begin{equation}
		(ds_{(m,n)}X)(f)=\nabla_{\gamma_1}(f\circ s)_1+\nabla_{\gamma_2}(f\circ s)_2
	\end{equation}
\end{proposition}

\begin{proof}
	We have
	\begin{subequations}
		\begin{align}
			(ds_{(m,n)X}X)(f) & =\frac{d}{dt} \left[ f\big( (s\circ \gamma)(t) \big)  \right]_{t=0}                  \\
			                  & = \frac{d}{dt} \left[   (f\circ s)\big( \gamma_1(t),\gamma_2(t) \big)  \right]_{t=0} \\
			                  & =\nabla_{\gamma}(f\circ s).
		\end{align}
	\end{subequations}
	The result is now the proposition \ref{PROPooAKWIooGxTwnQ}.
\end{proof}

%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
\section{Submanifold}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

\begin{definition}      \label{DEFooLQHWooMOTgzq}
	If $M$ is a differentiable manifold and $S$, a subset of $M$, we say that $S$ is a \defe{submanifold}{submanifold} of dimension $k$ if $\forall\,p\in S$, there exists a chart $\dpt{\varphi}{\mU}{M}$ around $p$ such that
	\begin{equation}        \label{EQooLWQRooQJCQbA}
		\varphi^{-1}(\varphi(\mU)\cap S)=\eR^k\cap\mU:=\{(x_1,\ldots,x_k,0\ldots,0)\in\mU\}.
	\end{equation}
\end{definition}

Let \( k\leq n\) in \( \eN\). We consider the maps
\begin{equation}
	\begin{aligned}
		\proj_k\colon \eR^n & \to \eR^k                  \\
		x                   & \mapsto (x_1,\ldots, x_k).
	\end{aligned}
\end{equation}
and
\begin{equation}
	\begin{aligned}
		j\colon \eR^k & \to \eR^n                             \\
		x             & \mapsto (x_1,\ldots, x_k,0,\ldots 0).
	\end{aligned}
\end{equation}

\begin{proposition}[\cite{BIBooDUPSooZjcTHL}]
	Let \( S\) be a smooth submanifold of the smooth manifold \( M\). Let \( p\in S\). We consider a map \( \varphi\colon U\to M\) around \( p\) such that\footnote{we write the condition \ref{EQooLWQRooQJCQbA} in a more condensed way.}
	\begin{equation}
		\varphi^{-1}\big( \varphi(U)\cap S \big)=U\cap j(\eR^k).
	\end{equation}
	Let \( X=\varphi(U)\cap S\) and \( Y=(\proj_k\circ\varphi^{-1})(X)\). Then we define
	\begin{equation}
		\begin{aligned}
			\psi\colon Y & \to X                        \\
			x            & \mapsto (\varphi\circ j)(x).
		\end{aligned}
	\end{equation}
	We have:
	\begin{enumerate}
		\item
		      \( \psi\) is bijective,
		\item
		      for every chart \( \varphi_{\alpha}\colon U_{\alpha}\to M\) of \( M\), the maps
		      \begin{equation}        \label{EQooBAGFooDnpctJ}
			      \psi^{-1}\circ\varphi_{\alpha}\colon \varphi_{\alpha}^{-1}\big( \psi(Y) \big)\to Y
		      \end{equation}
		      and
		      \begin{equation}        \label{EQooKQIUooDCCczD}
			      \varphi_{\alpha}^{-1}\circ\psi\colon \psi^{-1}\big( \varphi_{\alpha}(U_{\alpha}) \big)\to U_{\alpha}
		      \end{equation}
		      are smooth.
	\end{enumerate}
\end{proposition}

\begin{proof}
	In several parts.
	\begin{subproof}
		\spitem[\( \psi\) is injective]
		Let \( a,b\in Y\subset \eR^k\) such that \( \psi(a)=\psi(b)\), that is \( (\varphi\circ j)(a)=(\varphi\circ j)(b)\). Since \( \varphi\) and \( j\) are injective, we have \( a=b\).
		\spitem[\( j\circ\proj_k=\id|_{j(\eR^k)}\)]
		If \( a\in j(\eR^k)\), we have \( a=(a_1,\ldots, a_k,0,\ldots, 0)\), so that
		\begin{equation}
			j\circ\proj_k(a)=j(a_1,\ldots, a_k)=(a_1,\ldots, a_k,0,\ldots, 0)=a.
		\end{equation}
		\spitem[\( \psi\) is surjective]
		Let \( x\in X\). By definition of \( Y\), we have \( y=\proj_k\big( \varphi^{-1}(x) \big)\in Y\). We prove that \( \psi(y)=x\). We have
		\begin{equation}        \label{EQooFFSTooCddIyX}
			\psi(y)=(\psi\circ\proj_k\circ\varphi^{-1})(x)=(\varphi\circ j\circ\proj_k\circ\varphi^{-1})(x).
		\end{equation}
		Since \( x\in X=\varphi(U)\cap S\) we have \( \varphi^{-1}(x)\subset U\cap j(\eR^k)\). We know that \( j\circ\proj_k=\id|_{j(\eR^k)}\), so that
		\begin{equation}
			(j\circ\proj_k)\big( \varphi^{-1}(x) \big)=\varphi^{-1}(x).
		\end{equation}
		We continue \eqref{EQooFFSTooCddIyX}:
		\begin{equation}
			\psi(y)=(\varphi\circ j\circ\proj_k\circ\varphi^{-1})(x)=\varphi\big( \varphi^{-1}(x) \big)=x.
		\end{equation}
		So \( \psi\) is surjective. And we proved that \( \psi\) is a bijection.

		By the way, we have a formula for the inverse of \( \psi\) :
		\begin{equation}        \label{EQooQSZUooWsAqCz}
			\psi^{-1}=\proj_k\circ\varphi^{-1}\colon X\to Y.
		\end{equation}
		\spitem[First smoothness]
		We prove that \eqref{EQooBAGFooDnpctJ} is smooth. First notice that
		\begin{equation}
			\varphi_{\alpha}\Big( \varphi_{\alpha}^{-1}\big( \psi(Y) \big) \Big)\subset\psi(Y)=X=\varphi(U)\cap S\subset \varphi(U).
		\end{equation}
		Thus it makes sense to write
		\begin{equation}        \label{EQooOTSUooXHGAZz}
			\psi^{-1}\circ\varphi_{\alpha}=\psi^{-1}\circ\varphi\circ\varphi^{-1}\circ\varphi_{\alpha}
		\end{equation}
		as maps defined on \( \varphi_{\alpha}^{-1}\big( \psi(Y) \big)\). Since \( \varphi\) and \( \varphi_{\alpha}\) are charts, the map \( \varphi^{-1}\circ\varphi_{\alpha}\) is smooth.

		We know the inverse of \( \psi\) from equation \eqref{EQooQSZUooWsAqCz}. We have
		\begin{equation}
			\psi^{-1}\circ\varphi=\proj_k\circ\varphi^{-1}\circ\varphi=\proj_k,
		\end{equation}
		which is smooth.

		Equation \eqref{EQooOTSUooXHGAZz} is now the composition of two smooth functions.
		\spitem[Second smoothness]
		We prove that \eqref{EQooKQIUooDCCczD} is smooth. We have
		\begin{equation}
			\varphi_{\alpha}^{-1}\circ\psi=\varphi_{\alpha}^{-1}\circ\varphi\circ j
		\end{equation}
		while \( \varphi_{\alpha}^{-1}\), \( \varphi\) and \( j\) are smooth.
	\end{subproof}
\end{proof}

The following proposition shows that a submanifold is a manifold for itself.
\begin{proposition}[\cite{MonCerveau}]      \label{PROPooRZIHooXIhnpq}
	Let \( S\) be a smooth submanifold of the smooth manifold \( M\). For each \( p\in S\), we consider the set \( \{ \varphi_{p,i} \}_{i\in I}\) of the charts \( \varphi_{p,i}\colon U_{p,i}\to M\) around \( p\) such that
	\begin{equation}
		\varphi_{p,i}^{-1}\big( \varphi(U_{p,i})\cap S \big)=U_{p,i}\cap j(\eR^k).
	\end{equation}
	Let \( X_{p,i}=\varphi_{p,i}(U_{p,i})\cap S\) and \( Y_{p,i}=(\proj_k\circ\varphi_{p,i}^{-1})(X_{p,i})\). Then we define
	\begin{equation}
		\begin{aligned}
			\psi_{p,i}\colon Y_{p,i} & \to X_{p,i}                        \\
			x                        & \mapsto (\varphi_{p,i}\circ j)(x).
		\end{aligned}
	\end{equation}
	The couple \( \big( S,\{ (U_{p,i},\varphi_{p,i}) \}_{i\in I} \big)\) is a manifold\footnote{Well. The index set \( I\) may depend on \( p\), but the notations are already complicated enough.}.

	When \( S\) is a submanifold, we will always consider this manifold structure on \( S\).
\end{proposition}

\begin{definition}      \label{DEFooZKUIooXWVGvh}
	Let a map $\dpt{f}{M_1}{M_2}$.
	\begin{enumerate}
		\item
		      It is an \defe{immersion}{immersion} at $p\in M_1$ if $\dpt{df_p}{T_pM_1}{T_{f(p)}M_2}$ is injective\footnote{Differential of map, definition \ref{DEFooDRGUooDPFIJa}.}.
		\item
		      It is a \defe{submersion}{submersion} if $df_p$ is surjective.
	\end{enumerate}
\end{definition}



\begin{proposition}[\cite{BIBooDUPSooZjcTHL}]       \label{PROPooEWUCooTStAvb}
	If \( S\) is a submanifold of \( M\), the inclusion map \( \iota\colon S \to M\) is an immersion\footnote{Definition \ref{DEFooZKUIooXWVGvh}}.
\end{proposition}

\begin{proposition}     \label{PROPooZACHooCNgLSl}
	A manifold \( S\) is a submanifold of \( M\) if \( S\subset M\) (as sets) and the identity \( \iota\colon S\to M\) is regular\footnote{Definition \ref{DEFooMELXooEkEnwz}.}.
\end{proposition}

\begin{proposition}\label{prop:topo_sub_manif}
	The own topology of a submanifold is finer than the induced one from the manifold.
	\index{topology!on submanifold}
\end{proposition}

\begin{proof}
	Let $M$ be a manifold of dimension $n$ and $N$ a submanifold\footnote{In the whole proof, we should say ``there exists a sub-neighbourhood such that\ldots``} of dimension $k<n$. We consider $V$, an open subset of $N$ for the induced topology, so $V=N\cap\mO$ for a certain open subset $\mO$ of $M$. The aim is to show that $V$ is an open subset in the topology of $N$.

	Let us define $\mP=\varphi^{-1}(\mO)$.  The charts of $N$ are the projection to $\eR^k$ of the ones of $M$. We have to consider $W=\varphi^{-1}(V)$, since $N$ is a submanifold, $\varphi^{-1}(\mO\cap N)=\eR^k\cap\mP$. It is clear that $W=\eR^k\cap\mP$ is an open subset of $\eR^k$ because it is the projection on the $k$ first coordinates of an open subset of $\eR^n$.

	The subset $V$ of $N$ will be open in the sense of the own topology of $N$ if $\varphi'{}^{-1}(V\cap\varphi'(\mU'))$ is open in $\eR^k$ where $\varphi'$ is the restriction of $\varphi$ to his $k$ first coordinates: $\varphi'(a)=\varphi(a,0)$ and $\mU'$ is the projection of $\mU$.
\end{proof}


\begin{proposition}\label{prop:subvar_ouvert}
	A submanifold is open if and only if it has the same dimension as the main manifold.
\end{proposition}

\begin{proof}
	\subdem{Necessary condition}
	We consider some charts $\dpt{\varphi_i}{U_i}{M}$ on some open subsets $U_i$ of $\eR^n$. If $N$ is open in $M$, then this can be written as
	\[
		N=\bigcup_iU_i.
	\]
	If we choose the charts on $M$ in such a manner that $\dpt{\varphi_i}{U_i\cap \eR^k}{N}$ are charts of $N$, we must have $\varphi_i(U_i\cap\eR^k)=\varphi_i(U_i)$. Then it is clear that $k=n$ is necessary.
	\subdem{Sufficient condition}
	If $N$ has same dimension as $M$, the charts $\dpt{\varphi_i}{U_i}{M}$ are trivially restricted to $N$.
\end{proof}

The following result allow to extend a smooth function defined on a submanifold to an open set of the «larger» manifold.
\begin{proposition}     \label{PROPooOTZQooIfboXV}
	Let \( N\) be a submanifold of \( M\) and \( f\in  C^{\infty}(N)\). Let \( p\in N\). There exists a neighbourhood \( W\) of \( p\) in \( M\) and a function \( \tilde f\in  C^{\infty}(W)\) such that
	\begin{equation}
		\tilde f(n)=f(n)
	\end{equation}
	for every \( n\in N\).
\end{proposition}

\begin{proof}
	Since \( N\) is a submanifold of \( M\), the definition \ref{DEFooLQHWooMOTgzq} provides a chart \( \varphi\colon U\to M\) around \( p\) such that
	\begin{equation}
		\varphi^{-1}\big( \varphi(U)\cap N \big)=\{ (x_1,\ldots, x_n,0,\ldots, 0) \}.
	\end{equation}
	From the function \( f\colon N\to \eR\) we consider
	\begin{equation}
		\begin{aligned}
			f_1\colon \varphi^{-1}\big( \varphi(U)\cap N \big) & \to \eR        \\
			f_1                                                & =f\circ\varphi
		\end{aligned}
	\end{equation}
	This is the function \( f\) seen trough the chart. The function \( f_1\) is only defined on the ``\( N\)'' part of the chart, but can be extended as
	\begin{equation}
		\begin{aligned}
			\tilde f_1\colon U & \to \eR                                   \\
			(x_1,\ldots, x_m)  & \mapsto f_1(x_1,\ldots, x_n,0,\ldots, 0),
		\end{aligned}
	\end{equation}
	which is a good definition since \( (x_1,\ldots, x_n,0,\ldots, 0)\) is in \( \varphi^{-1}\big( \varphi(U)\cap N \big)\).

	Finally we write
	\begin{equation}
		\begin{aligned}
			\tilde f\colon \varphi(U) & \to \eR                       \\
			\tilde f                  & =\tilde f_1\circ\varphi^{-1}.
		\end{aligned}
	\end{equation}
	This is the extension we are searching for. Indeed it is defined on \( \varphi(U)\) which is an open set in \( M\) which contains \( p\) and if \( q\in N\cap\varphi(U)\) we have \( q=\varphi(x_1,\ldots, x_n,0,\ldots, 0)\) and then
	\begin{subequations}
		\begin{align}
			\tilde f(q) & =(\tilde f_\circ\varphi^{-1})\varphi(x_1,\ldots, x_n,0,\ldots, 0) \\
			            & =\tilde f_1(x_1,\ldots, x_n,0,\ldots, 0)                          \\
			            & =f_1(x_1,\ldots, x_n,0,\ldots, 0)                                 \\
			            & =(f\circ\varphi)(x_1,\ldots, x_n,0,\ldots, 0)                     \\
			            & =f(q).
		\end{align}
	\end{subequations}
	Thus \( \tilde f=f\) on \( \varphi(U)\cap N\).
\end{proof}
