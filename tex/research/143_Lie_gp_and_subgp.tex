% This is part of (almost) Everything I know in mathematics
% Copyright (c) 2013-2015, 2019, 2021-2022, 2024-2025
%   Laurent Claessens
% See the file fdl-1.3.txt for copying conditions.

Do you know what is violet and commutative? Answer in the footnote\footnote{An abelian grape!}.


\section{Lie groups}
%+++++++++++++++++++++++++++++

The notion of topological group is defined in \ref{DEFooCHZVooHnvSgW}.


\begin{definition}[\cite{MonCerveau,BIBooFLEXooPgvAlz,BIBooXYAIooSLNqBk}]      \label{DEFooGDWTooTvINuw}
	Let \( \mA\) be a class of functions: \( C^k\), \(  C^{\infty}\), analytic, etc. A \( \mA\)-\defe{Lie group}{Lie!group} is a group $G$ which is in the same times a \( \mA\)-manifold such that the group operations
	\begin{equation}
		\begin{aligned}
			i\colon G & \to G          \\
			g         & \mapsto g^{-1}
		\end{aligned}
	\end{equation}
	and
	\begin{equation}
		\begin{aligned}
			m\colon G\times G & \to G      \\
			(g,h)             & \mapsto gh
		\end{aligned}
	\end{equation}
	are in the class \( \mA\).

	In particular, a Lie group is \defe{analytic}{analytic Lie group} if the manifold is analytic and the group operations are analytic.

\end{definition}
For a Lie subgroup, see definition \ref{DEFooGCHDooHUMSju}.

\begin{normaltext}[Smooth or analytic ?]
	At this point, when we say ``Lie group'', we intend a smooth Lie group. That has the advantage of not being obliged to prove analyticity of the maps. But at some point we want to use power expansions of the exponential map, which are typical question requiring analyticity.

	Thus we will turn to analytic Lie groups.

	The theorem \ref{THOooSQVCooCyEPOS} will help us saying that every single smooth Lie group we already studied can be turned into an analytic Lie group by choosing a good atlas. So we will not lose any results in the ``conversion''.
\end{normaltext}

\begin{proposition}[Leibniz rule\cite{MonCerveau}]     \label{PROPooAXYRooWVhXRa}
	Let \( G\) be a Lie group. We consider two smooth paths \( \gamma\colon I\to G\) and \( \sigma\colon I\to G\) where \( I\) is an interval containing \( 0\). We suppose that \( \gamma(0)=\sigma(0)=e\). We have
	\begin{equation}
		\Dsdd{ \gamma(t)\sigma(t) }{t}{0}=\gamma'(0)+\sigma'(0).
	\end{equation}
	%TODOooXTUPooSNwtkK. Prouver ça, mais surtout la bouger parce que c'est surement prouvé ailleurs.
\end{proposition}

%-------------------------------------------------------
\subsection{The torus}
%----------------------------------------------------

\begin{definition}[\cite{MonCerveau}]	\label{DEFooANNJooNfvwCK}
	Consider the equivalence relation \( \sim\) on \( \eR^2\) \( (x,y)\sim(x',y')\) if there exists integers \( k,l\in \eZ\) such that \( x'=x+k\) and \( y'=y+k\). The \defe{torus}{torus} is \( T=\eR^2/\sim\).

	We consider the set \( \Lambda\) of all balls of radius \( <1/2\) in \( \eR^2\) and the maps
	\begin{equation}
		\begin{aligned}
			\varphi_{\alpha}\colon B(a_{\alpha},r_{\alpha}) & \to T            \\
			(x,y)                                           & \mapsto [(x,y)].
		\end{aligned}
	\end{equation}
\end{definition}

\begin{lemma}[\cite{MonCerveau}]	\label{LEMooLCQSooRMmcLM}
	Let \( \alpha,\beta\in\Lambda\). There exists a \( k\in \eZ^2\) such that
	\begin{equation}
		(\varphi_{\beta}^{-1}\circ\varphi_{\alpha})(x)=x+k
	\end{equation}
	for every \( x\) for which the formula makes sense.
\end{lemma}

\begin{proof}
	We write \( U_{\alpha\beta}=\varphi_{\alpha}^{-1}\big( \varphi_{\beta}(U_{\beta}) \big)\).

	First we suppose that \( \alpha,\beta\in \Lambda\) are such that \( r_{\alpha},r_{\beta}<1/8\). We have
	\begin{equation}
		(\varphi_{\beta}^{-1}\circ \varphi_{\alpha})(x)=\varphi_{\beta}^{-1}([x])\in[x].
	\end{equation}
	So there exists a map \(k \colon U_{\alpha\beta}\to \eZ^2  \) such that \( (\varphi_{\beta}^{-1}\circ\varphi_{\alpha})(x)=x+k(x)\). We have to prove that \( k\) is constant.

	Let \( x,y\in U_{\alpha\beta}\). First note that since \( x,y\in U_{\alpha}\) we have \( \| x-y \|<1/4\). The compute:
	\begin{subequations}
		\begin{align}
			\| (\varphi_{\beta}^{-1}\circ\varphi_{\alpha})(x)-(\varphi_{\beta}^{-1}\circ \varphi_{\alpha})(y) \| & =\| x-y+k(x)-k(y) \|             \\
			                                                                                                     & =\| x-y+\big( k(x)+k(y) \big) \| \\
		\end{align}
	\end{subequations}
	But \( (\varphi_{\beta}^{-1}\circ\varphi_{\alpha})(x)\) and \( (\varphi_{\beta}^{-1}\circ \varphi_{\alpha})(y)\) both belong to \( U_{\alpha\beta}\), so that
	\begin{equation}		\label{EQooSDASooRsgCNL}
		\| x-y+\big( k(x)+k(y) \big) \|= \| (\varphi_{\beta}^{-1}\circ\varphi_{\alpha})(x)-(\varphi_{\beta}^{-1}\circ \varphi_{\alpha})(y) \|<\frac{1}{ 4}.
	\end{equation}
	Assuming \( k(x)\neq k(y)\), using proposition \ref{PropNmNNm} we have
	\begin{subequations}
		\begin{align}
			\| x-y+\big( k(x)-k(y) \big) \| & \geq \big| \underbrace{\| x-y \|}_{<1/4}-\underbrace{\| k(y)-k(x) \|}_{>1} \big| \\
			                                & >3/4                                                                             \\
			                                & >1/4,
		\end{align}
	\end{subequations}
	which contradicts \eqref{EQooSDASooRsgCNL}
\end{proof}

\begin{proposition}[\( 2\)-torus]       \label{DEFooFNZOooSrGQcW}
	Consider the equivalence relation \( \sim\) on \( \eR^2\) \( (x,y)\sim(x',y')\) if there exists integers \( k,l\in \eZ\) such that \( x'=x+k\) and \( y'=y+k\). We define \( T=\eR^2/\sim\).

	We consider the set \( \Lambda\) of all balls of radius \( <1/2\) in \( \eR^2\) and the maps
	\begin{equation}
		\begin{aligned}
			\varphi_{\alpha}\colon B(a_{\alpha},r_{\alpha}) & \to T            \\
			(x,y)                                           & \mapsto [(x,y)].
		\end{aligned}
	\end{equation}
	\begin{enumerate}
		\item
		      \( T= \big( \eR^2/\sim,\{ \varphi_{\alpha} \}_{\alpha\in \Lambda} \big)\) is a manifold.
		\item
		      The manifold topology of \( T\) is the same as the induced and metric topologies discussed in proposition \ref{PROPooFUQHooKZMoMm}.
		      %TODOooFCYOooVopIyY. Prouver ça. J'en mets deux parce que je crois que celle-ci est déjà faite.
		\item
		      \( \eR^2/\sim\) is a Lie group.
		      %TODOooFCYOooVopIyY. Prouver ça.
	\end{enumerate}
	The manifold \( \eR^2/\sim\) is the \defe{torus}{torus} and will be denoted by \( T\).
\end{proposition}


\begin{proposition}[\( 2\)-torus]       \label{PROPooSBVCooOZnszF}
	Consider the equivalence relation \( \sim\) on \( \eR^2\) \( (x,y)\sim(x',y')\) if there exists integers \( k,l\in \eZ\) such that \( x'=x+k\) and \( y'=y+k\). We define \( T=\eR^2/\sim\).

	We consider the set \( \Lambda\) of all balls of radius \( <1/2\) in \( \eR^2\) and the maps
	\begin{equation}
		\begin{aligned}
			\varphi_{\alpha}\colon B(a_{\alpha},r_{\alpha}) & \to T            \\
			(x,y)                                           & \mapsto [(x,y)].
		\end{aligned}
	\end{equation}
	\begin{enumerate}
		\item
		      \( T= \big( \eR^2/\sim,\{ \varphi_{\alpha} \}_{\alpha\in \Lambda} \big)\) is a manifold.
		\item
		      The manifold topology of \( T\) is the same as the induced and metric topologies discussed in proposition \ref{PROPooFUQHooKZMoMm}.
		      %TODOooFCYOooVopIyY. Prouver ça. J'en mets deux parce que je crois que celle-ci est déjà faite.
		\item
		      \( \eR^2/\sim\) is a Lie group.
		      %TODOooFCYOooVopIyY. Prouver ça.
	\end{enumerate}
	The manifold \( \eR^2/\sim\) is the \defe{torus}{torus} and will be denoted by \( T\).
\end{proposition}

\begin{proof}
	Then we check the conditions of proposition \ref{THOooFIHIooLiSUxH}.
	\begin{subproof}
		\spitem[\( \varphi_{\alpha}\) is injective]
		%-----------------------------------------------------------
		Let \( (x,y)\) and \( x',y'\) in \( B(a_{\alpha},r_{\alpha})\) with \( r_{\alpha}<1/2\). We suppose \( \varphi_{\alpha}(x,y)=\varphi_{\alpha}(x',y')\). We have \( x-x'\in \eZ\) and if \( x-x'\neq 0\) we have \( | x-x' |>1\). In that case we have
		\begin{equation}
			\| (x,y)-(x',y') \|\geq | x-x' |\geq 1
		\end{equation}
		while
		\begin{equation}
			\| (x,y)-(x',y') \|\leq \| (x,y)-a_{\alpha} \|+\| a_{\alpha}-(x',y') \|<\frac{ 1 }{2}+\frac{ 1 }{2}=1.
		\end{equation}
		This is a contradiction. This proves \( x=x'\). The same holds to get \( y=y'\).

		\spitem[Open]
		%-----------------------------------------------------------
		We have to see that
		\begin{equation}
			\varphi_{\alpha}^{-1}\big( \varphi_{\alpha}(U_{\alpha})\cap \varphi_{\beta}(U_{\beta}) \big)
		\end{equation}
		is open in \( B(a_{\alpha},r_{\alpha})\). Let \( x\in  \varphi_{\alpha}^{-1}\big( \varphi_{\alpha}(U_{\alpha})\cap \varphi_{\beta}(U_{\beta}) \big)\). There exists \( u\in U_{\alpha}\), \( v\in U_{\beta}\) such that \( \varphi_{\alpha}(u)=\varphi_{\beta}(v)\) and \( (\varphi_{\alpha}\circ\varphi_{\alpha}^{-1})(u)=x\).

		Since \( \varphi_{\alpha}(u)=\varphi_{\beta}(v)\), there exists \( k\in \eZ^2\) such that \( u=v+k\). On the other hand, there exists \( r_1,r_2>0\) such that \( B(u,r_1)\subset U_{\alpha}\) and \( B(v,r_2)\subset U_{\beta}\). We consider \( r<\min(r_1,r_2)\). We have:
		\begin{equation}
			B(y,r)=B(v,r)+k.
		\end{equation}
		Then \( \varphi_{\alpha}\big( B(u,r) \big)=\varphi_{\beta}\big( B(v,r) \big)\). The part
		\begin{equation}
			\varphi_{\alpha}^{-1}\Big( \varphi_{\alpha}\big( B(u,r) \big) \Big)=B(u,r)
		\end{equation}
		is open and contains \( x\). Moreover
		\begin{subequations}
			\begin{align}
				\varphi_{\alpha}(B(u,r)) & =\varphi_{\alpha}\big( B(u,r) \big)\cap\varphi_{\beta}\big( B(u,r) \big)   \\
				                         & =\varphi_{\alpha}\big( B(u,r) \big)\cap\varphi_{\beta}\big( B(u,r)+k \big) \\
				                         & =\varphi_{\alpha}\big( B(u,r) \big)\cap\varphi_{\beta}(B(v,r))             \\
				                         & \subset \varphi_{\alpha}(U_{\alpha})\cap\varphi_{\beta}(U_{\beta}).
			\end{align}
		\end{subequations}

		\spitem[Continuity]
		%-----------------------------------------------------------
		Lemme \ref{LEMooLCQSooRMmcLM} says that \( \varphi_{\beta}^{-1}\circ \varphi_{\alpha}\) is the translation by a constant. Thus this is continuous.
	\end{subproof}
	%TODOooLUASooBiOVuZ. Finir la preuve. C'est déjà dans ma liste.
\end{proof}

\subsection{Connected components of Lie groups}
%---------------------------------------------

\begin{proposition}		\label{PropUssGpGenere}
	If $G$ is a connected Lie group and $\mU$, a neighbourhood of the identity $e$, then $G$ is generated by $\mU$ in the sense that $\forall g\in G$, there exists a finite number of $g_{i}\in \mU$ such that
	\begin{equation}
		g=g_1\ldots g_n.
	\end{equation}
	Notice that the number $n$ is function of $g$ in general.
\end{proposition}

\begin{proof}
	Eventually passing to a subset, we can suppose that $\mU$ is open. In this case, $\mU^{-1}$ is open because it is the image of $\mU$ under the homeomorphism $g\mapsto g^{-1}$. Now we consider $V=\mU\cap\mU^{-1}$. The main property of this set is that $V=V^{-1}$. Let
	\[
		[V]=\{ g_1\ldots g_n\tq g_{i}\in V \};
	\]
	we will prove that $[V]=G$ by proving that it is closed and open in $G$ (the fact that $G$ is connected then concludes).

	We begin by openness of $[V]$. Let $g_0=g_1\cdots g_n\in[V]$. We know that $g_0V$ is open because the multiplication by $g_0$ is an homeomorphism. It is clear that $g_0V\subset [V]$ and that $g_0=g_0e\in g_0V$. Hence $g_0\in g_0V\subseteq[V]$. It proves that $[V]$ is open because $g_0V$ is a neighbourhood of $g_0$ in $[V]$.

	We now turn our attention to the closeness of $[V]$. Let $h\in\overline{ [V] }$. The set $hV$ is an open set which contains $h$ and $hV\cap [V]\neq \emptyset$ because an open which contains an element of the closure of a set intersects the set (it is almost the definition of the closure). Let $g_0\in hV\cap[V]$. There exists a $h_{1}\in V$ such that $g_0=hh_1$. For this $h_1$, we have $hh_1=g_0=g_1\cdots g_n$, and therefore
	\[
		h=g_1\cdots g_n h_1^{-1}\in[V].
	\]
	This proves that $h\in[V]$ because $h_1^{-1}\in V$ from the fact that $V=V^{-1}$.
\end{proof}
Remark that this proof emphasises the topological aspect of a Lie group: the differential structure was only used to prove thinks like that $A^{-1}$ is open when $A$ is open.

\begin{proposition}		\label{PROPooWNJXooXhqKKv}
	Let $G$ be a Lie group and $G_0$, the identity component of $G$. We have the following:
	\begin{enumerate}
		\item $G_0$ is an open invariant subgroup of $G$,
		\item $G_0$ is a Lie group,
		\item the connected components of $G$ are lateral classes of $G_0$. More specifically, if $x$ belongs to the connected component $G_1$, then
		      \begin{equation}		\label{EQooKCPVooBBOcgT}
			      G_1=xG_0=G_0x
		      \end{equation}
	\end{enumerate}

\end{proposition}

\begin{proof}
	We know that when $M_{1}$ is open in the manifold $M$, one can put on $M_{1}$ a differential structure of manifold of same dimension as $M$ with the induced topology. Since $G_0$ is open, it is a smooth manifold. In order for $G_0$ to be a Lie group, we have to prove that it is stable under the inversion and that $gh\in G_0$ whenever $g$, $h\in G_0$.

	First, $G_0^{-1}$ is connected because  it is homeomorphic to $G_0$ in $G$. The element $e$ belongs to the intersection of $G_0$ and $G_0^{-1}$, so $G_0\cup G_0^{-1}$ is connected as non-disjoint union of connected sets. Hence $G_0\cup G_0^{-1}=G_0$ and we conclude that $G_0^{-1}\subseteq G_0$. The set $G_0G_0$ is connected because it is the image of $G_0\times G_0$ under the multiplication map, but $e\in G_0G_0$, so $G_0G_0\subseteq G_0$ and  $G_0$ is thus closed for the multiplication. Hence $G_0$ is a Lie group.

	For all $x\in G$, we have $e=xex^{-1}\in xG_0x^{-1}$, but $xG_0x^{-1}$ is connected. Hence $xG_0x^{-1}\subseteq G_0$, which proves that $G_0$ is an invariant subset of $G$.

	Lateral classes $xG_0$ are connected because the left multiplication is an homeomorphism. They are moreover \emph{maximal} connected subsets because, if $xG_0\subset H$ (proper inclusion) with a connected $H$, then $G_0\subset x^{-1}H$ (still proper inclusion). But the definition of $G_0$ is that this proper inclusion is impossible. Therefore, the sets of the form $xG_0$ are maximally connected sets. It is clear that $\bigcup_{g\in G}gG_0=G$.

	Notice that the last point works with $G_0x$ too.
\end{proof}

\subsection{What is  \texorpdfstring{$g^{-1} dg$}{g-1dg}?}\label{SubSecgmudg}
%--------------------------------

The expression $g^{-1} dg$ is often written in the physical literature. In our framework, the way to gives a sense to this expression is to consider it pointwise acting on a tangent vector. More precisely, the framework is the data of a manifold $M$, a Lie group $G$ and a map $\dpt{g}{M}{G}$. Pointwise, we have to apply $g(x)^{-1} dg_x$ to a tangent vector $v\in T_xM$.

Note that $\dpt{dg_x}{T_xM}{T_{g(0)}G\neq T_eG}$, so $dg_x\notin \yG$. But the product $g(x)^{-1} dg_x v$ is defined by
\begin{equation}
	g(x)^{-1} dg_x v=\Dsdd{ g(x)^{-1} g(v(t)) }{t}{0}\in\yG.
\end{equation}


%--------------------------------------------------------------------------------------------------------------------------- 
\subsection{Product of Lie groups}
%---------------------------------------------------------------------------------------------------------------------------


We prove here that \( G\times H\) has a structure of Lie group. We will see in proposition \ref{PROPooFWGKooFgUZMZ} that the Lie algebra \( T_{(e,e)}(G\times H)\) is isomorphic to the product of Lie algebras \( T_eG\times T_eH\).
\begin{proposition}[\cite{MonCerveau}]	  \label{PROPooKITOooTcsIiu}
	Let \( G\) and \( H \) be smooth Lie groups. The group \( G\times H\) with its manifold structure\footnote{Definition \ref{DEFooYOLXooDPrnHa}.} is a Lie group.
\end{proposition}


\begin{proof}

	We have to prove that the multiplication \(m \colon (G\times H)\times (G\times H)\to G\times H  \) and the inversion \(i \colon \times H\to G\times H  \) are \( C^{\infty}\). We write \(\varphi_{\alpha} \colon U_{\alpha}\to G  \) the charts on \( G\) and \(\phi_i \colon U_i\to H  \) the ones on \( H\). The charts over \( G\times H\) are of the form
	\begin{equation}
		\begin{aligned}
			\sigma_{\alpha i}\colon U_{\alpha}\times U_i & \to G\times H                                      \\
			(x,y)                                        & \mapsto \big( \varphi_{\alpha}(x),\phi_i(y) \big).
		\end{aligned}
	\end{equation}
	To check the regularity of \( m\) we have to look at the map \( \sigma^{-1}_{\gamma k}\circ m\circ(\sigma_{\alpha i}\times \sigma_{\beta j})\). We apply that map to the point \(   \big( (x,y),(x',y') \big)  \) and we compute
	\begin{subequations}
		\begin{align}
			\sigma^{-1}_{\gamma k}\circ m\circ (\sigma_{\alpha i}\times \sigma_{\beta j}) & \big( (x,y),(x',y') \big)                                                                                                                                                                   \\
			                                                                              & =(\sigma^{-1}_{\gamma k}\circ m)\Big( \big( \varphi_{\alpha}(x),\phi_i(y) \big),\big( \varphi_{\beta}(x'),\phi_j(y') \big) \Big)                                                            \\
			                                                                              & =\sigma_{\gamma k}^{-1}\Big( \varphi_{\alpha}(x)\varphi_{\beta}(x'),\phi_i(y)\phi_j(y') \Big)                                                                                               \\
			                                                                              & = \Big( \varphi_{\alpha}^{-1}\big( \varphi_{\alpha}(x)\varphi_{\beta}(x') \big),   \phi_k^{-1}\big( \phi_i(y)\phi_j(y') \big) \Big)                                                         \\
			                                                                              & = \Big( \big( \varphi_{\gamma}^{-1}\circ m_g\circ (\varphi_{\alpha}\times \varphi_{\beta})(x,x') \big),\big( \phi_k^{-1}\circ m_H\circ(\phi_i\times \phi_j)(y,y') \big) \Big)               \\
			                                                                              & =\Big( \big( \varphi_{\gamma}^{-1}\circ m_G(\varphi_{\alpha}\times \varphi_{\beta}) \big)\times \big( \phi_k^{-1}\circ m_H\circ (\phi_i\times \phi_j) \big) \Big)\big( (x,x'),(y,y') \big).
		\end{align}
	\end{subequations}
	By hypothesis, the maps \( m_G\) and \( m_H\) are smooth, which mean that
	\begin{equation}
		\varphi_{\gamma}^{-1}\circ m_G\circ(\varphi_{\alpha}\times \varphi_{\beta})
	\end{equation}
	is smooth (and the same for the one of \( m_H\)).

	The same kind of computation works for the inverse \( i(g,h)=(g^{-1},h^{-1})\). We have
	\begin{subequations}
		\begin{align}
			(\sigma_{\beta j}^{-1}\circ i\circ\sigma_{\alpha i})(x,y) & =\sigma_{\beta j}^{-1}\big( (i\circ\varphi_{\alpha})(x),(i\circ\phi_i)(y) \big)                                     \\
			                                                          & = \big[  (\varphi_{\beta}^{-1}\circ i_G\circ \varphi_{\alpha})\times (\phi_j^{-1}\circ i_H\circ\phi_i)  \big](x,y).
		\end{align}
	\end{subequations}
\end{proof}




%--------------------------------------------------------------------------------------------------------------------------- 
\subsection{Left and right translations}
%---------------------------------------------------------------------------------------------------------------------------

\begin{lemma}       \label{LEMooPIUFooHjyXln}
	Let \( G\) be a Lie group. Let \( g,h\in G\). We consider the \defe{left translation}{left translation}
	\begin{equation}
		\begin{aligned}
			L_h\colon G & \to G       \\
			g           & \mapsto hg.
		\end{aligned}
	\end{equation}
	\begin{enumerate}
		\item
		      The map \( L_h\) is a diffeomorphism.
		\item
		      The differential \( (dL_h)_g\) is a vector space isomorphism.
	\end{enumerate}
	%TODOooNJHIooQQNDJr. Prouver ça.
\end{lemma}


%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Two words about Lie algebra}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


%---------------------------------------------------------------------------------------------------------------------------
\subsection{Adjoint map}
%---------------------------------------------------------------------------------------------------------------------------

The ideas of this short note comes from \cite{Lie}. A more traumatic definition of the adjoint group can be found in \cite{Helgason}, chapter II, \S 5.

\begin{definition}
	Let $G$ be a Lie group, and $\mG$, its Lie algebra. We define the \defe{adjoint map}{adjoint!map} at the point $x\in G$ by
	\begin{equation}
		\begin{aligned}
			\AD_x\colon G & \to G     \\
			\AD_xy        & =xyx^{-1}
		\end{aligned}
	\end{equation}
\end{definition}

Then we define
\[
	\dpt{Ad_x:=(d\AD_x)_e}{\mG}{\mG};
\]
the chain rule applied on $\AD_{xy}=\AD_x\circ\AD_y$ leads to $Ad_{xy}=Ad_x\circ Ad_y$, and thus we can see $Ad$ as a group homomorphism $\dpt{Ad}{G}{GL(\mG)}$, $Ad(x)=Ad_x$.

\begin{definition}
	This homomorphism is the \defe{adjoint representation}{adjoint!representation!Lie group on its Lie algebra}\index{representation!adjoint} of the group $G$ in the vector space $\mG$.
\end{definition}


Finally, we define
\[
	\dpt{ad:=d(Ad)_1}{\mG}{L(\mG,\mG)}
\]
where we identify $T_1GL(\mG)$ with $L(\mG,\mG)$.

\begin{lemma}\label{LEMooEALFooJOeOgk}
	If $\dpt{f}{G}{G}$ is an automorphism of $G$ (i.e.: $f(xy)=f(x)f(y)$), then $df_e$ is an automorphism of $\mG$: $df[X,Y]=[df X,dfY]$
\end{lemma}

\begin{proof}
	First, remark that $f(\AD_xy)=\AD_{f(x)}f(y)$. Now, $\Ad_x X=(d\AD_x)_eX$, so that one can compute:
	\begin{equation}
		\begin{split}
			df(\Ad_xX) & =\Dsdd{f(\AD_xX(t))}{t}{0}           \\
			           & =\Dsdd{   \AD_{f(x)}f(X(t))  }{t}{0} \\
			           & =(d\AD_{f(x)})_{f(e)}df X            \\
			           & =\Ad_{f(x)}df X.
		\end{split}
	\end{equation}
	On the other hand, we need to understand how does the $\ad$ work.
	\[
		\ad XY=\Dsdd{\Ad_{X(t)}}{t}{0}Y=\Dsdd{\Ad_{X(t)}Y}{t}{0}
	\]
	because $\dpt{\Ad_{X(t)}}{\mG}{\mG}$ is linear, so that $Y$ can enter the derivation (for this, we identify $\mG$ and $T_X\mG$). Since $\Ad_{X(t)}Y$ is a path in $\mG$ the \emph{true space} is
	\[
		(\ad X)Y=\Dsdd{ \Ad_{X(t)}Y }{t}{0}\in T_{[X,Y]}\mG\simeq\mG.
	\]
	For the same reason of linearity, $df$ can get in the derivative in the expression $df\Dsdd{  \Ad_{X(t)}Y  }{t}{0}$. Thus
	\begin{equation}
		\begin{split}
			(\ad X)Y & =\Dsdd{  df\big(\Ad_{X(t)}Y\big)  }{t}{0} \\
			         & =\Dsdd{  \Ad_{ f(X(t)) }df Y  }{t}{0}     \\
			         & =\Dsdd{ \Ad_{f(X(t))} }{t}{0}df Y         \\
			         & =\ad(dfX)df Y                             \\
			         & =[dfX,df Y]
		\end{split}
	\end{equation}
	because $f(X(t))$ is a path which gives $df X$.
\end{proof}

\begin{corollary}
	An automorphism of a semisimple Lie group is an isometry for the Killing metric. Stated in other words,
	\begin{equation}\label{eq:Aut_Iso}
		\Aut(G)\subset\Iso G.
	\end{equation}
\end{corollary}

\begin{proof}
	By lemma~\ref{LEMooEALFooJOeOgk}, if $f$ is an automorphism of $G$, $df$ is an automorphism of $\mG$. Now, by proposition~\ref{prop:auto_2}, $f$ is an isometry of $G$.
\end{proof}

\begin{theorem}
	The Killing form is bi-invariant\index{Killing!form!bi-invariance} on $G$.
	\label{tho:bi_invariance}
\end{theorem}

\begin{proof}
	Because of the left invariance,
	\[
		B(dR_gX,dR_gY)=B(dL_{g^{-1}}dR_gX,dL_{g^{-1}}dR_gY)=B(\Ad_{g^{-1}}X,\Ad_{g^{-1}}Y).
	\]
	But $\Ad_{g^{-1}}=d(\AD_{g^{-1}})$ and $\AD_{g^{-1}}$ is an automorphism of $G$. Thus by lemma~\ref{LEMooEALFooJOeOgk} and proposition~\ref{prop:auto_2},
	\begin{equation}                    \label{eq_KillAdinvariant}
		B\big(\Ad(g^{-1})X,\Ad(g^{-1})Y\big)=B(X,Y).
	\end{equation}
\end{proof}

\begin{lemma}
	In the case of Lie algebra, the bracket is given by the derivative of the adjoint action:
	\begin{equation}
		\Dsdd{ \Ad( e^{tX})Y }{t}{0}=[X,Y]
	\end{equation}
\end{lemma}

\begin{proof}
	Let us make $[\tilde X,\tilde Y]_e$ act on a function $f$. Using the definition \eqref{EqDefLieDerivativeVect} and the property of theorem~\ref{ThoLieDerrComm}, we have
	\begin{equation}
		\begin{aligned}[]
			[\tilde X,\tilde Y]_ef & =\Dsdd{ (d\varphi_{-t}^X)\tilde Y }{t}{0}f                                               \\
			                       & =\Dsdd{ (d\varphi_{-t}^X)_{\varphi_t^X(e)}\big( \tilde Y_{\varphi_t^X(e)} \big) }{t}{0}f \\
			                       & =\Dsdd{ \tilde Y_{ e^{tX}}\cdot(f\circ\varphi_{-t}^X) }{t}{0}
		\end{aligned}
	\end{equation}
	Now, we use the fact that, by definition, $\varphi_t^X(x)=x e^{tX}$, so that $\varphi_s^Y( e^{tX})= e^{tX} e^{sY}$ and we get
	\begin{equation}
		\begin{aligned}[]
			[\tilde X,\tilde Y]_ef & =\Dsdd{ \Dsdd{ f\big( \varphi_{-t}^X( e^{tX} e^{sY}) \big) }{s}{0} }{t}{0} \\
			                       & =\Dsdd { \Dsdd{ f( e^{tX} e^{sY} e^{-tX}) }{s}{0} } {t}{0}                 \\
			                       & =\Dsdd{ \Dsdd{ f\big(  e^{s\Ad( e^{tX})Y} \big) }{s}{0} }{t}{0}            \\
			                       & =\Dsdd{ \big( \Ad( e^{tX})Y \big)_e\cdot f }{t}{0}
		\end{aligned}
	\end{equation}

\end{proof}

\section{Universal enveloping algebra}  \label{subsec:env_alg}
%----------------------------------------

Let $\mA$ be a Lie algebra. One knows that the composition law $(X,Y)\to[X,Y]$ is often non associative. In order to build an associative Lie algebra which ``looks like''\ $\mA$, one considers $T(\mA)$, the tensor algebra of $\mA$ (as vector space) and $\mJ$ the two-sided ideal in $T(\mA)$ generated by elements of the form
\[
	X\otimes Y-Y\otimes X -[X,Y]
\]
for $X$, $Y\in\mA$. The \defe{universal enveloping algebra}{universal!enveloping algebra} of $\mA$ is the quotient \nomenclature{$U(\mA)$}{Universal enveloping algebra}
\begin{equation}
	U(\mA)=T(\mA)/\mJ.
\end{equation}
For $X\in\mA$, we denote by $X^*$\nomenclature{$X^*$}{Image of a tensor in the universal enveloping algebra} the image of $X$ by canonical projection $\dpt{\pi}{T(\mA)}{U(\mA)}$ and by $1$ the unit in $U(\mA)$. One has $1\neq 0$ if and only if $\mA\neq\{0\}$.

\begin{proposition}[\cite{Helgason}]
	Le $V$ be a vector space on $K$. Then there is a natural bijection between the representations of $\mA$\index{representation! of $U(\mA)$} on $V$ and the ones of $U(\mA)$ on $V$. If $\rho$ is a representation of $\mA$ on $V$, the corresponding $\rho^*$ of $U(\mA)$ is given by
	\[
		\rho(X)=\rho^*(X^*)
	\]
	($X\in\mA$).
\end{proposition}

Let $\{X_1,\ldots,X_n\}$ be a basis of $\mA$. For a $n$-uple of complex numbers $(t_i)$, one defines
\begin{equation}
	X^*(t)=\sum_{i=1}^nt_iX^*_i.
\end{equation}
On the other hand, we consider a $n$-uple of positive integers $M=(m_1+\ldots m_n)$, and the notation
\begin{equation}
	\begin{split}
		|M| & =m_1+\cdots+m_n             \\
		t^M & =t_1^{m_1}\cdots t_n^{m_n}.
	\end{split}
\end{equation}

When $|M|>0$, we denote by $X^*(M)\in U(\mA)$ the coefficient of $t^M$ in the expansion of $(|M|!)^{-1} (X^*(t))^{|M|}$. If $|M|=0$, the definition is $X^*(0)=1$. Once again a proposition without proof.

\begin{proposition}
	The smallest vector subspace of $U(\mA)$ which contains all the elements of the form $X^*(M)$ is $U(\mA)$ itself:
	\[
		U(\mA)=\Span\{ X^*(M):M\in \eN^n \}.
	\]
\end{proposition}

\begin{corollary} \label{cor:/24}
	Let $\mA$ be a Banach algebra of dimension $n$, $\mB$ a Banach subalgebra of dimension $n-r$ and a basis $\{X_1,\ldots,X_n\}$ of $\mA$ such that the $n-r$ last basis vectors are in $\mB$. We denotes by $B$ the vector subspace of $U(\mA)$ spanned by the elements of the form $X^*(M)$ with $m=(0,\ldots,0,m_{r+1},\ldots,m_n)$. Then $B$ is a subalgebra of $U(\mA)$.
\end{corollary}

\begin{definition}
	Two Lie groups $G$ and $G'$ are \defe{isomorphic}{isomorphism!of Lie groups} when there exists a differentiable group isomorphism between $G$ and $G'$.

	They are \defe{locally isomorphic}{locally!isomorphic!Lie groups} when there exists neighbourhoods $\mU$ and $\mU'$of $e$ and $e'$ and a differentiable diffeomorphism $\dpt{f}{\mU}{\mU'}$ such that

	$\forall x,y,xy\in\mU$, $f(xy)=f(x)f(y)$, \\and

	$\forall x',y',x'y'\in\mU'$, $f^{-1}(x'y')=f^{-1}(x')f^{-1}(y')$.
\end{definition}

The following universal property of the \emph{universal} enveloping algebra explains the denomination:
\begin{proposition}
	Let $\dpt{\sigma}{\mG}{\mU(\mG)}$ the canonical inclusion and $A$ an unital complex associative algebra. A linear map $\dpt{\varphi}{\mG}{A}$ such that
	\begin{equation}
		\varphi[X,Y]=\varphi(X)\varphi(Y)-\varphi(Y)\varphi(X)
	\end{equation}
	can be extended in only one way to an algebra homomorphism $\dpt{\varphi_0}{\mU(\mG)}{A}$ such that $\varphi_0\circ\sigma=\varphi$ and $\varphi(1)=1$
	\label{prop:extunifmap}
\end{proposition}
For a proof, see \cite{Knapp_reprez}.

\subsection{Adjoint map in \texorpdfstring{$\mU(\mG)$}{U(G)}}   \label{ssadjunif}
%/////////////////////////////////////////////

We know that $\dpt{ \Ad(g) }{ \mG }{ \mG }$ fulfils
\[
	\Ad(g)[X,y]=[  \Ad(g)X,\Ad(g)Y  ],
\]
and we can define $\dpt{ \Ad(g) }{ \mG }{ \mU(\mG) }$ by $\Ad(g)X=X$ where in the right hand side, $X$ denotes the class of $X$ for the quotients of the tensor algebra which defines the universal enveloping algebra.

When $[A,B]$ is seen in $\mU(\mG)$, we have $[A,B]=A\otimes B-B\otimes A$. Then $\dpt{ \Ad(g) }{ \mG }{ \mU(\mG) }$ fulfils proposition~\ref{prop:extunifmap} and is extended in an unique way to $\dpt{ \Ad(g) }{ \mU(\mG) }{ \mU(\mG) }$ with $\Ad(g)1=1$.

\begin{lemma}
	If $D\in\mU(\mG)$, the following properties are equivalent:
	\begin{itemize}
		\item $D\in\mZ(\mG)$
		\item $D\otimes X=X\otimes D$ for all $X\in \mG$
		\item $e^{\ad X}D=D$ for all $X\in\mG$
		\item $\Ad(g)D=D$ for all $g\in G$.
	\end{itemize}
	\label{lem:equivDAd}
\end{lemma}

%---------------------------------------------------------------------------------------------------------------------------
\subsection{Invariant fields}
%---------------------------------------------------------------------------------------------------------------------------

If $X\in\lG$, we have the associated left invariant vector field on $G$ given by $\tilde X_x=dL_xX$. That field is left invariant as operator on the functions because
\begin{equation}
	\tilde X_x(u)=\tilde X_e(L^*_xu)
\end{equation}
as the following computation shows
\begin{equation}
	\tilde X_e(L^*u)=\Dsdd{ (L_x^*u)\big(  e^{tX} \big) }{t}{0}
	=\Dsdd{ u\big( x e^{tX} \big) }{t}{0}
	=\Dsdd{ u\big( \tilde X_x(t) \big) }{t}{0}
	=\tilde X_x(u)
\end{equation}
because the path defining $\tilde X_x$ is $x e^{tX}$.

We can perform the same construction in order to build left invariant fields based on $\mU(\lG)$. If $X$ and $Y$ are elements of $\lG$, the  differential operator on $ C^{\infty}(G)$ associated to $XY\in\mU(\lG)$ is given by
\begin{equation}
	(XY)(f)=\DDsdd{ f\big( X(s)Y(t) \big) }{t}{0}{s}{0}
\end{equation}
The path defining the field $\widetilde{XY}$ is
\begin{equation}
	\widetilde{XY}_x=xX(s)Y(t).
\end{equation}
Thus we have
\begin{equation}        \label{EqInvarUgField}
	\widetilde{(XY)}_e(L^*u)=\widetilde{(XY)}_xu
\end{equation}

\begin{lemma}       \label{LemAdesthioo}
	If \( X,Y\in\lG\) we have
	\begin{equation}
		[\ad(X),\ad(Y)]=\ad([X,Y]).
	\end{equation}
\end{lemma}

\begin{proof}
	Let \( f\in\lG\) and compute the action of \( [\ad(X),\ad(Y)]\):
	\begin{subequations}
		\begin{align}
			[\ad(X),\ad(Y)]f & =\ad(X)[Yf,fY]-\ad(Y)(Xf-fX) \\
			                 & =(XY-YX)f+f(YX-XY)           \\
			                 & =\ad([X,Y])f.
		\end{align}
	\end{subequations}
\end{proof}

%---------------------------------------------------------------------------------------------------------------------------
\subsection{Representation of Lie groups}
%---------------------------------------------------------------------------------------------------------------------------

\begin{proposition}
	Let $G$ be a Lie group and $\mG$ its Lie algebra. A representation $\varphi\colon G\to \End(V)$ of the group induces a representation $\phi\colon \mU(\mG)\to \End(V)$ of the universal enveloping algebra with the definitions
	\begin{subequations}
		\begin{align}
			\phi(X)  & =d\varphi_e(X),      \\
			\phi(XY) & =\phi(X)\circ\phi(Y)
		\end{align}
	\end{subequations}
	where $e$ is the unit in $G$ and $X$, $Y$ are any elements of $\mG$.
\end{proposition}

\begin{proof}
	We have
	\begin{equation}
		\phi(X)=\Dsdd{ \varphi( e^{tX})v }{t}{0}=d\varphi_e(X)v.
	\end{equation}
	Notice that, by linearity of the action of $\varphi( e^{tX})$ on $v$, one can leave $v$ outside the derivation. Now, neglecting the second order terms in $t$ in the derivative, and using the Leibniz formula\footnote{Proposition \ref{PROPooAXYRooWVhXRa}.}, we have
	\begin{equation}
		\begin{aligned}[]
			\phi([X,Y])v & =  \Dsdd{ \varphi( e^{tXY} e^{-tXY}) }{t}{0}v                                                     \\
			             & =  \Dsdd{ \varphi( e^{tXY})\varphi(\mtu) }{t}{0}v+\Dsdd{ \varphi(\mtu)\varphi( e^{-tXY}) }{t}{0}v \\
			             & =  \phi(XY)v-\phi(YX)v                                                                            \\
			             & =  \big( \phi(X)\phi(Y)-\phi(Y)\phi(X) \big)v                                                     \\
			             & =  [\phi(X),\phi(Y)]v,
		\end{aligned}
	\end{equation}
	which is the claim.
\end{proof}

\section{Lie subgroup}
%------------------------

\begin{definition}[\cite{BIBooXYAIooSLNqBk}]        \label{DEFooGCHDooHUMSju}
	We say that \( H\) is a \defe{Lie subgroup}{Lie subgroup} of the Lie group \( G\) if
	\begin{enumerate}
		\item
		      \( H\) is a subgroup of \( G\),
		\item
		      \( H\) is a Lie group by itself,
		\item
		      the inclusion map from \( \iota\colon H\to G\) is an injective immersion\footnote{Definition \ref{DEFooZKUIooXWVGvh}.} and a group morphism.
	\end{enumerate}
\end{definition}

\begin{remark}
	A Lie subgroup is not always a submanifold. See the proposition \ref{PROPooJGYRooSKPVSX}.
\end{remark}

\begin{proposition}[Lie subgroup which is not a submanifold\cite{BIBooXYAIooSLNqBk}]        \label{PROPooJGYRooSKPVSX}
	Let \( G\) be the \( 2\)-torus\footnote{Definition \ref{PROPooSBVCooOZnszF}.}. Let \( \alpha\in \eR\) be irrational and consider \( H=\{ (x,\alpha x)\in \eR^2 \}/\sim\). Then :
	\begin{enumerate}
		\item
		      As sets \( H\neq G\).
		\item
		      The set \( H\) is a subgroup of \( G\).
		\item
		      \( H\) is not a submanifold of \( G\).
		\item
		      The closure of \( H\) in \( G\) is \( G\).
		\item
		      \( H\) is a Lie subgroup of \( G\).
	\end{enumerate}
	%TODOooCTRHooTEwmKq. Prouver ça. Mais d'abord faire PROPooSBVCooOZnszF
\end{proposition}


\begin{proposition}     \label{PROPooFXZJooCOFXZX}
	A closed Lie subgroup is a submanifold\footnote{Definition \ref{DEFooLQHWooMOTgzq}.}.
\end{proposition}

\begin{proof}
	Let \( H\) be a Lie subgroup of the Lie group \( G\); we have to prove that \( H\) is a submanifold of \( G\). As far as the notation are concerned we write \( \dim(H)=m\) and \( \dim(G)=n\). Let \( h\in H\). We know from the definition \ref{DEFooGCHDooHUMSju} that the inclusion \( \iota\colon H\to G\) is an injective immersion, and in particular the map
	\begin{equation}
		d\iota_h\colon T_hH\to T_{\iota(h)}G
	\end{equation}
	is injective. In particular the rank of \( d\iota_h\) is equal to \( \dim(H)\) and the rank theorem \ref{THOooSWKVooTJQsXc} applies. There exists charts \( \varphi\colon U\to H\) and \( \psi\colon V\to G\) such that
	\begin{equation}
		\begin{aligned}
			\psi^{-1}\circ\iota\circ\varphi\colon U & \to V                                  \\
			(x_1,\ldots, x_m)                       & \mapsto (x_1,\ldots, x_m,0,\ldots, 0).
		\end{aligned}
	\end{equation}

	What we need is a map \( \alpha\colon W\to G\) such that
	\begin{equation}
		\alpha^{-1}\big( \alpha(W)\cap H \big)=\{ (x_1,\ldots, x_m,0,\ldots, 0) \}\cap W.
	\end{equation}

	We prove that \( \alpha=\psi\) with \( W=V\) works. Indeed suppose that \( x\in V\) satisfies \( \psi(x)\in H\). In that case we have \( \psi(x)=\varphi(x')\) for some \( x'\in U\) and
	\begin{equation}
		\psi^{-1}(\psi(x))=\psi^{-1}\big( \varphi(x') \big)=(\psi^{-1}\circ\iota\circ\varphi)(x')=(x'_1,\ldots, x'_m,0,\ldots, 0).
	\end{equation}
\end{proof}

\begin{corollary} \label{CORooMCWWooXkpkNO}
	If $H_1$ and $H_2$ are two Lie subgroups of the Lie group $G$  such that $H_1=H_2$ as topological groups, then $H_1=H_2$ as Lie groups.
\end{corollary}

\begin{proposition}
	Let $G_1$ and $G_2$ be two Lie groups with same Lie algebra such that $\pi_0(G_1)=\pi_0(G_2)$ and $\pi_1(G_1)=\pi_1(G_2)$, then $G_1$ and $G_2$ are isomorphic.
\end{proposition}

\begin{proof}
	The assumptions of equality of Lie algebras and of the $\pi_0$ make that the universal covering $\tilde G_1$ and $\tilde G_2$ of $G_1$ and $G_2$ are the same. But we know that $G_i=\tilde G_i/\pi_1(G_i)$. Now equality $\pi_1(G_1)=\pi_1(G_2)$ concludes that $G_1=G_2$.
\end{proof}

%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
\section{Semi-direct product of Lie groups}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

\begin{definition}
	A subgroup $H$ is \defe{normal}{normal!subgroup} in the group $G$ if for any $g\in G$ and $a\in H$, $gag^{-1}\in H$.
\end{definition}

If $G$ is a group, $N$ a normal subgroup and $L$ a subgroup, we have $LN=NL$ where, by notation, if $A$ and $B$ are subsets of $G$, $AB=\{xy|x\in A,y\in B\}$.

If $N$ and $L$ are groups, an \defe{extension}{extension!of group} of $N$ by $G$ is a short exact sequence
\begin{equation}
	\xymatrix{ e \ar[r]& N \ar[r]^{\displaystyle i} & G \ar[r]^{\displaystyle \pi} & L \ar[r]^L  & e }
\end{equation}
which means that

\begin{enumerate}
	\item $i$ is injective because only $e_N$ is sent to $e_G$,
	\item $\pi$ is surjective because the whole $L$ is sent to $e$.
\end{enumerate}
One often say that $G$ is an extension of $N$ by $L$. In the most common case, $i$ is the inclusion, $L=G/N$ and $\pi$ is the natural projection.

We say that the extension is \defe{split}{split!extension} when there exists a \emph{split homomorphism} $\dpt{\rho}{L}{G}$ such that $\rho\circ\pi=\id_G$.

\begin{definition}
	We say that $G$ is the \defe{semidirect product}{semi-direct product!of Lie groups} of $N$ and $L$ when any $g\in G$ can be written in one and only one way as $g=nl$ with $n\in N$ and $l\in L$.
\end{definition}


\begin{definition}
	A \defe{Lie group homomorphism}{homomorphism!of Lie group} between $G$ and $G'$ is a map $\dpt{u}{G}{G'}$ which is a group homomorphism and a morphism between $G$ and $G'$ as differentiable manifolds.
\end{definition}

\begin{lemma}
	Any continuous (group) homomorphism between two Lie groups is a \emph{Lie} group homomorphism.
\end{lemma}

We consider $G$, a connected Lie group; $N$, a closed normal subgroup; and $L$, a connected immersed Lie group. Moreover, we suppose that $G$ is semidirect product of $N$ and $L$.

\begin{proposition}
	The restriction to $L$ of the canonical projection $\dpt{\pi}{G}{G/N}$ is continuous for the induced topology from $G$ to $L$.
\end{proposition}
\begin{proof}
	The definition of an open set $\mU$ in $G/N$ is that $\pi^{-1}(\mU)$ is open in $G$. Then it is clear that $\pi$ is continuous. The matter is to check it for $\pi|_L$. Let $\mU$ be a subset of $\pi(L)$. It is unclear that $\pi^{-1}(\mU)\subset L$, but it is true that $\pi|_L^{-1}(\mU)\subset L$.

	As far as the induced topology on $L$ is concerned, $A\subset L$ is open when $A=\mO\cap L$ for a certain open set $\mO$ in $G$.

	Let $\mU$ be an open subset of $\pi|_L(L)$; this is $\pi^{-1}(\mU)$ is open in $G$. We have to compare $\pi^{-1}(\mU)$ and $\pi|_L^{-1}(\mU)$. Since

	\[
		\pi|_L^{-1}(\mU)=\{x\in L|\pi(x)\in\mU\},
	\]
	we have $\pi|_L^{-1}(\mU)=\pi^{-1}(\mU)\cap L$. But $\pi^{-1}(\mU)$ is open in $G$, then $\pi^{-1}(\mU)\cap L$ is open in $L$.
\end{proof}

\begin{proposition}
	The group $G$ is the semidirect product of $N$ and $L$ if and only if $G=NL$ and $N\cap L=\{e\}$.
\end{proposition}

\begin{proof}

	If $G$ is semidirect product of $N$ and $L$, $G=NL$ is clear. In this case, if $e\neq z\in N\cap L$, $z=ez=ze$, thus $z\in G$ can be written in two ways as $xy$ with $x\in N$ and $y\in L$.

	For the converse, let us consider $n'l'=nl$. Then $x^{-1} x'=yy'{}^{-1}\in N\cap L=\{e\}$. Thus $x'=x$ and $y'=y$.
\end{proof}

Now, we consider $N$, a normal subgroup of $G$. If $\dpt{\pi}{G}{G/N}$ is the canonical homomorphism, the restriction $\dpt{\pi|_L}{L}{G/N}$ is an isomorphism. Indeed, on the one hand, this is surjective because $G=NL$ yields
$[g]=[nl]=[l]=\pi|_L(l)$. On the other hand, $\pi|_L(l)=\pi|_L(l')$ implies that $l=nl'$ for a certain $n\in N$. Then $ll'{}^{-1}=n\in N\cap L=\{e\}$. So $n=e$ and $l=l'$.

\begin{remark}
	If $N$ is any normal subgroup of $G$, there doesn't exist in general any subgroup $L$ of $G$ such that $G$ should be the semidirect product of $N$ and $L$.
\end{remark}

If $G$ is the semidirect product of $N$ and $L$, for any $y\in L$, $\dpt{\sigma_y}{x}{yxy^{-1}}$ is an automorphism of $N$. The point is that $\sigma_y(a)\in N$ for all $a\in N$ because $N$ is a normal subgroup.

It is also clear that $\forall\,u,v\in L$, $\sigma_{uv}=\sigma_u\circ\sigma_v$. Then $\dpt{\sigma}{L}{\Aut N}$\footnote{$\Aut N$ is the set of all the automorphism of $N$.} is a homomorphism. Moreover, the data of $\sigma$, $N$ and $L$ determines the law in $G$ (provided the fact that the product $NL$ is seen as formal) because any element of $G$ can be written as $nl$; thus a product $GG$ is $(nl)(n'l')=(n\sigma_y(n'))(ll')$

\begin{proposition}
	Let $N$ and $L$ be two Lie groups and $\dpt{\sigma}{L}{\Aut N}$ a homomorphism. With the law
	\[
		(x,y)(x',y')=(x\sigma_y(x'),yy'),
	\]
	the set $S=N\times L$ is a group.

\end{proposition}
\begin{proof}
\end{proof}

The set $N\times L$ endowed with this inner product is denoted
\[
	N\times_{\sigma}L.
\]

\begin{proposition}
	If $G$ is the semidirect product of $N$ and $L$, then $G$ is isomorphic to $N\times_{\sigma} L$.
\end{proposition}

\begin{proof}
	The isomorphism is $\dpt{T}{N\times_{\sigma}L}{G}$, $T(x,y)=xy$. On the one hand, it is bijective because an element of $G$ can be written as $nl$ with $n\in N$ and $l\in L$ in only one way. On the other hand, it is easy to check that $T( (x,y)(x',u') )=T(x,y)T(x',y')$.
\end{proof}

One can now give the final definition. Let us consider two connected Lie groups $N$, $L$ and a Lie group  homomorphism $\dpt{\sigma}{L}{\Aut N}$. The map $N\times L\to N$, $(x,y)\to\sigma_y(x)$ is $\Cinf$. So, the group structure on $N\times L$ given by
\begin{equation}\label{eq:prod_semi_direct}
	(x,y)(x',y')=(x\sigma_y(x'),yy')
\end{equation}
is compatible with the $\Cinf$ structure of $N\times L$ (seen as a Lie group). The manifold $N\times L$ endowed with the group structure \eqref{eq:prod_semi_direct} is the \defe{semidirect product}{semi-direct product!of Lie groups} on $N$ and $L$; this is denoted by
\[
	N\times_{\sigma}L.
\]

%---------------------------------------------------------------------------------------------------------------------------
\subsection{Introduction by exact short sequence}
%---------------------------------------------------------------------------------------------------------------------------

%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
\subsubsection{General setting}
%///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

Let $G_0$, $G_1$ and $G_2$ be tree connected Lie groups. A \defe{short exact sequence}{exact sequence!short} between them is two group homomorphisms
\begin{equation}
	\begin{aligned}[]
		\iota & \colon G_0\to G_1 \\
		\pi   & \colon G_1\to G_2
	\end{aligned}
\end{equation}
such that $\Image(\iota)=\ker(\pi)$. In that case, one says that $G_1$ is an \defe{extension}{extension of Lie groups} of $G_2$ by $G_0$.

Since the group $\iota(G_0)$ is the kernel of an homomorphism, it is normal and we write $\iota(G_0)\lhd G_1$\nomenclature[G]{$A\lhd B$}{$A$ is a normal subgroup of $B$}. Moreover, $\iota(G_0)=\pi^{-1}(e_2)$ and is then closed in $G_1$. As group, we have
\begin{equation}
	G_2=G_1/\iota(G_0).
\end{equation}

The extension is \defe{split}{extension of Lie groups!split} if there exists a Lie group homomorphism  $j\colon G_2\to G_1$ such that
\begin{equation}
	\pi\circ j=\id|_{G_2}.
\end{equation}
This condition imposes $j$ to be injective. In that case we have an action of $G_2$ on $G_0$ defined by
\begin{equation}
	\begin{aligned}
		R\colon G_2  & \to \Aut(G_0)                                           \\
		R_{g_2}(g_0) & =\iota^{-1}\Big( \AD\big( j(g_2) \big)\iota(g_0) \Big).
	\end{aligned}
\end{equation}
Notice that $\AD\big(j(g_2)\big)\iota(g_0)$ belongs to $\iota(G_0)$ because the latter is normal.

As manifold we consider
\begin{equation}
	G=G_0\times G_2
\end{equation}
and we define the multiplication law
\begin{equation}
	\begin{aligned}
		\cdot\colon G\times G     & \to G                                   \\
		(g_0,g_2)\cdot(g'_0,g'_2) & =\big( g_0 R_{g_2}(g'_0),g_2g'_2 \big).
	\end{aligned}
\end{equation}
For associativity we have
\begin{equation}
	(g_0,g_2)\cdot\big( (g'_0,g'_2)\cdot (g''_0,g''_2)) \big)=\Big(  g_0R_{g_2}\big( g'_0R_{g'_2}(g''_0) \big),g_2g'_2g''_2  \Big)
\end{equation}
while
\begin{equation}
	\begin{aligned}[]
		\big( (g_0,g_2)\cdot(g'_0,g'_2) \big)\cdot(g''_0,g''_2)=\big( g_0R_{g_2}(g'_0)R_{g_2g'_2}(g''_0),(g'_2g''_2) \big).
	\end{aligned}
\end{equation}
Thus the product is associative if and only if
\begin{equation}
	g_0R_{g_2}\big( g'_0R_{g'_2}(g''_0) \big)=\big( g_0R_{g_2}(g'_0) \big)R_{g_2g'_2}(g''_0).
\end{equation}
That equality is in fact true because $R$ is a morphism from $G_2$ to $\Aut(G_0)$, so that $R_{g_2}R_{g'_2}=R_{g_2g'_2}$.

The neutral in $G$ is $(e_0,e_2)$.

Since $R_{g_2}(g_0)$ is smooth with respect to both variables, the product is smooth. In that way, $G$ becomes a Lie group named the \defe{semi direct product}{semi direct product} of $G_2$ by $G_0$ and is denoted by
\begin{equation}
	G_0 \rtimes_RG_2.
\end{equation}
All the construction is still valid when $R$ is an homomorphism which does not comes from a split extension.

We define the product $G_0\times G_2\to G$ by
\begin{equation}
	g_0\cdot g_2=(g_0,e_2)\cdot(e_0,g_2)
\end{equation}

The diagram
\begin{equation}
	\xymatrix{%
		&       G_1 \ar[dr]^{\pi}           &\\
		G_0 \ar[ur]^{\iota}\ar[rd]_{\id\times\{ e \}}   &       & G_2\\
		&       G \ar@{.>}[uu]^{\varphi}\ar[ru]_{\pr_2}     &\\
	}
\end{equation}
suggests us to define the map
\begin{equation}
	\begin{aligned}
		\varphi\colon G_0\times G_2 & \to G_1                  \\
		(g_0,g_2)                   & \mapsto \iota(g_0)j(g_2)
	\end{aligned}
\end{equation}
This is a Lie group homomorphism because on the one hand
\begin{equation}
	\varphi(g_0,g_2)\cdot \varphi(g'_0,g'_2)=\iota(g_0)j(g_2)\cdot \iota(g'_0)j(g'_2),
\end{equation}
while on the other hand
\begin{equation}
	\begin{aligned}[]
		\varphi\big( (g_0,g_2)\cdot (g'_0,g'_2) \big) & =\varphi\big( g_0R_{g_2}(g'_0),g_2g'_2 \big)                                \\
		                                              & =\varphi\Big( g_0\iota^{-1}\big( \AD(j(g_2))\iota(g'_0) \big),g_2g'_2 \Big) \\
		                                              & =\iota\Big(g_0\iota^{-1}\Big( \AD(j(g_2))\iota(g'_0) \Big))j(g_2g'_2)       \\
		                                              & =\iota(g_0)j(g_2)\iota(g'_0)j(g'_2)
	\end{aligned}
\end{equation}
because $\iota$ and $j$ are homomorphisms.

The Leibniz rule on $\iota(g_0)j(g_2)$ provides the differential
\begin{equation}
	(d\varphi)_e=(d\iota)_{e_0}\oplus(dj)_{e_2}.
\end{equation}
This is injective because $j$ is injective. The kernel of $\varphi$ is the set
\begin{equation}
	\ker(\varphi)=\{ (g_0,g_2)\tq \iota(g_0)=j(g_2)^{-1} \}.
\end{equation}
Since $\iota(G_0)$ and $j(G_2)$ have no intersections\footnote{They are transverse because $j\circ \pi=\id|_{G_2}$.} (a part the identity), we have that the kernel reduces to the identity:
\begin{equation}
	\ker(\varphi)=\{ e \}.
\end{equation}
The differentials provide the diagram
\begin{equation}
	\xymatrix{
	\mG_0\ar[r]^{(d\iota)_{e_0}}    &   \mG_1\ar[r]^{(d\pi)_{e_1}}  &   \mG_2\ar@<2pt>[l]^{(dj)_{e_2}}.
	}
\end{equation}
We have $(d\pi)_{e_1}\circ (dj)_{e_2}=\id|_{\mG_2}$ and the map
\begin{equation}
	(d\varphi)_e\colon \mG_1\to \mG_0\oplus\mG_2
\end{equation}
is an algebra homomorphism (as differential of group homomorphism). It is also an isomorphism by dimension counting. The inverse theorem then shows that $\varphi$ is a local diffeomorphism: $\varphi(G)$ contains a neighborhood of the identity and then is surjective by proposition~\ref{PropUssGpGenere}.

We conclude that $\varphi$ is a Lie group isomorphism.
