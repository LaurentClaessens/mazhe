% This is part of Exercices et corrigés de CdI-1
% Copyright (c) 2011,2014, 2018
%   Laurent Claessens
% See the file fdl-1.3.txt for copying conditions.

\begin{corrige}{0042}


\begin{enumerate}
\item C'est une fonction polynomiale à deux variables, elle est différentiable (et donc continue) en tout point de $\eR^2$ par les règles de calcul. Vous devriez essayer de prouver rigoureusement que tout polynôme est différentiable.

\item Sur l'ouvert des points $(a,b)$ vérifiant $ab \neq 0$, la
  fonction est constante, donc différentiable et continue.

  Il faut maintenant vérifier la continuité et la différentiabilité en
  les points $(a,b)$ vérifiant $ab = 0$, c'est-à-dire que $a$ ou $b$
  est nul. Traitons le cas $a = 0$ (le cas $b = 0$ étant identique par
  symétrie).

  Si $a = 0$ et $b \neq 1$, alors
  \begin{equation*}
    f(a,b) = f(0,b) = e^{b} \quad\text{et}\quad \limite[y =
    b]{(x,y)}{(0,b)} f(x,y) = e
  \end{equation*}
  or $f(a,b) \neq e$ donc la fonction n'est pas continue.

  Si $a = 0$ et $b = 1$, la fonction est continue. En effet, nous
  avons l'inégalité
  \begin{equation*}
    0 \leq \abs{f(x,y) - e} =
    \begin{cases}
      \abs{e^{x+y}-e}\\
      0
    \end{cases} \leq \abs{e^{x+y} - e}
  \end{equation*}
  et le membre de droite tend vers $0$ quand $(x,y) \rightarrow (0,1)$
  par continuité de $e^{x+y}$. Dès lors $f(x,y)$ tend vers $e =
  f(0,1)$ par l'étau.

  En ce qui concerne la différentiabilité, il suffit de voir ce qui se
  passe en $(0,1)$ et on voit qu'elle n'est pas différentiable en
  calculant les dérivées directionnelles.

\item Autour de tout point $(a,b)$ avec $b \neq 0$, on peut choisir
  une boule sur laquelle la fonction est le quotient de deux fonctions
  différentiables dont le dénominateur ne s'annule pas, donc est
  différentiable.

  Pour les points du type $(a,0)$, la fonction n'est pas continue car
  la limite restreinte
  \begin{equation*}
    \limite[x = a + y] y 0 \frac{a+y}{y}
  \end{equation*}
  n'existe pas si $a \neq 0$, et vaut $1 \neq 0 = f(a,0)$ si $a = 0$.

\item Sur $\eR^2\setminus\{(0,0)\}$, la fonction est quotient de
  fonctions différentiables dont le dénominateur ne s'annule pas, donc
  est différentiable.

Pour voir que la fonction n'est pas continue en $(0,0)$, nous
calculons grâce à la règle de l'Hospital~:
\begin{equation*}
  \limite[y = 0\\x < 0] x 0 \frac{x}{\ln(x^2+1)} =   \limite[y = 0\\x <
  0] x 0 \frac{x^2+1}{2x} = -\infty \neq 0
\end{equation*}
ce qui prouve que la limite
\begin{equation*}
  \limite {(x,y)} {(0,0)} \frac{x-y}{\ln(x^2+y^2+1)}
\end{equation*}
ne vaut pas $0$.

\item Clairement si le paramètre $a$ est nul, la fonction (notons-la
  $f$) est différentiable (donc continue) partout. Supposons donc $a
  \neq 0$ dans la suite.

  Par ailleurs, si on considère le point $(b,c)$ avec $b > 0$, il
  existe une boule autour de $(b,c)$ sur laquelle la fonction s'écrit
  $f(x,y) = x + a y$, et donc est différentiable.

  De la même manière autour de $(b,c)$ avec $b < 0$, il y a une petite
  boule sur laquelle la fonction s'écrit $f(x,y) = x$, et donc est
  différentiable.

   Considérons un point de la forme $(0,c)$. Alors nous avons
   \begin{equation*}
     \limite{(x,y)} {(0,c)} f(x,y)   \begin{arrowcases}
       \limite[x \leq 0] {(x,y)} {(0,c)} x = 0\\
       \limite[x > 0] {(x,y)} {(0,c)} x+ay = ac
     \end{arrowcases}
   \end{equation*}
   donc la limite du membre de gauche existe si et seulement si $ac =
   0$, c'est-à-dire si et seulement si $c = 0$.

   Reste à étudier la différentiabilité en $(0,0)$. Voyons la dérivée
   directionnelle suivante~:
\begin{equation}
	\begin{aligned}[]
		\pder f {(1,1)}(0,0) &= \limite[h\neq 0] h 0 \frac{f(0+h,0+h) - f(0,0)}h\\
		&=
		\begin{arrowcases}
			\limite[h > 0] h 0 \frac{f(h,h)}h =  \limite[h > 0] h 0
			\frac {h+ah}h = 1 + a\\
			\limite[h < 0] h 0 \frac{f(h,h)}h =  \limite[h < 0] h 0
			\frac hh = 1
		\end{arrowcases}
	\end{aligned}
\end{equation}
   Cette dérivée directionnelle n'existe pas, donc la fonction n'est
   pas différentiable en $(0,0)$.
   
 \item Notons $f$ cette fonction. En les points $(a,b)$ avec $a\neq
   b$, la fonction est le quotient de fonctions différentiables (dont
   le dénominateur ne s'annule pas) donc est différentiable.

   Regardons la continuité en un point de la forme $(a,a)$. Pour s'approcher de
   $(a,a)$ sans croiser la droite $x = y$, on choisit de s'approcher via la
   perpendiculaire $x+y = 2a$, et on calcule
   \begin{equation*}
     \limite[x=2a-y\\y \neq a] y a f(x,y) = \limite y a \frac{(2a -
       y)y^5}{(2a - y)^6 + y^6} = 
     \begin{cases}
       \frac12 &\text{si }a \neq 0\\
       -\frac12 & \text{si }a = 0
     \end{cases}
   \end{equation*}
   qui dans aucun cas n'est égale à $f(a,a) = 0$, donc la fonction
   n'est continue en aucun de ces points.
\end{enumerate}


\begin{alternative}

\begin{enumerate}

\item
Cette fonction est différentiable et continue partout. En effet, la candidate différentielle est donnée par la formule
\begin{equation}
	df_a(u)=\frac{ \partial f }{ \partial x }(a)u_x+\frac{ \partial f }{ \partial y }(a)u_y,
\end{equation}
que l'on peut calculer et injecter dans la définition \eqref{EqCritereDefDiff}, afin de vérifier si ça fonctionne.

\item\label{Item0042b}
Nous testons la continuité en étudiant les limites. Lorsque $xy\neq 0$, alors cette condition est également satisfaite dans un voisinage de $(x,y)$. Dans toute cette partie, la fonction est donc continue et différentiable (parce que constante). Nous étudions donc la continuité sur l'axe $Y$, c'est-à-dire
\begin{equation}
	\lim_{(x,y)\to(0,a)}f(x,y).
\end{equation}
Le long du chemin $\gamma_1(t)=(0,(1-t)a)$, la fonction vaut $ e^{ta}$, et donc la limite est $e^a$. Le long du chemin $\gamma_2(t)=(1-t,a)$, la fonction est constante et vaut $e$. La limite ne peut donc exister que si $e=e^a$, c'est-à-dire $a=1$.

Première conclusion : sur les axes, la fonction est au mieux continue en $(0,1)$ et\footnote{Parce qu'il est évident que tout ce que nous faisons sur l'axe $Y$ est valable sur l'axe $X$.} $(1,0)$. Il n'est pas très compliqué de voir que, en fait, $f$ est continue en ces points.

Pour la différentiabilité, elle est assurée dans la zone $xy\neq 0$. Sur les axes, elle ne peut avoir lieu que en $(1,0)$ ou $(0,1)$ parce qu'ailleurs, elle n'est pas continue. Cherchons la différentielle de $f$ en $(1,0)$ en partant de sa dérivée directionnelle.
\begin{equation}
	\frac{ \partial f }{ \partial u }(1,0)=\lim_{t\to 0}\frac{ f(1+tu_1,tu_2)-e }{ t }.
\end{equation}
La valeur de $f(1+tu_1,tu_2)$ dépend de si $u_2$ est nul ou non. Ce que nous trouvons (il faut utiliser la règle de l'Hopital une fois) est
\begin{equation}		\label{Eq0042Diffu}
	\frac{ \partial f }{ \partial u }(0,1)=
\begin{cases}
	0	&	\text{si }u_2=0\\
	e(u_1+u_2)	&	 \text{si }u_2\neq 0.
\end{cases}
\end{equation}
En posant $u=(1,0)$ et puis $u=(0,1)$, nous en déduisons en particulier les dérivées partielles
\begin{equation}
	\begin{aligned}[]
		\frac{ \partial f }{ \partial x }(1,0)	&=0\\
		\frac{ \partial f }{ \partial y }(1,0)	&=e.
	\end{aligned}
\end{equation}
Par conséquent, \emph{si $df_{(1,0)}$ existe}, nous avons
\begin{equation}		\label{Eq0042CandidatUn}
	\begin{aligned}[]
		df_{(1,0)}	&=edx_1\\
		df_{(1,0)}(u)	&=eu_1.
	\end{aligned}
\end{equation}
Par ailleurs, la formule \eqref{Eq0042Diffu} nous donne directement une autre expression pour la différentielle, si elle existe :
\begin{equation}		\label{Eq0042CandidatDeux}
	df_a(u)=\frac{ \partial f }{ \partial u }(0,1)=
\begin{cases}
	0	&	\text{si }u_2=0\\
	e(u_1+u_2)	&	 \text{si }u_2\neq 0.
\end{cases}
\end{equation}
Si les expressions \eqref{Eq0042CandidatUn} et \eqref{Eq0042CandidatDeux} coïncident, nous ne pouvons rien dire. Mais si elles ne sont pas les mêmes, alors nous pouvons conclure que la différentielle de $f$ en $(0,1)$ n'existe pas.

Mais ces deux expressions ne sont manifestement pas égales sur $u=(a,0)$ quand $a\neq0$ : la première vaut $ea$, tandis que la seconde vaut $0$.

\item
La fonction est évidement continue et différentiable lorsque $y\neq 0$. La question est de savoir ce qu'il se passe sur les axes. L'exercice \ref{Item0042b} était du même genre, mais ce qui sauvait deux points sur les axes, c'était le fait que la fonction était égale sur ces points à ce qu'elle vaut en dehors des axes.

Nous étudions donc ce qu'il se passe sur l'axe $y=0$. La limite
\begin{equation}
	\lim_{(x,y)\to(a,0)}f(x,y)
\end{equation}
n'existe pas quand $a\neq 0$. En effet, si on s'approche de $(a,0)$ en suivant un chemin horizontal, on trouve zéro, tandis qu'en suivant un chemin vertical, on trouve l'infini. De plus, même en $(0,0)$, la limite n'existe pas, comme en témoignent les chemins $\gamma_1(t)=(t,t)$ et $\gamma_2(t)=(2t,t)$.

Cette fonction n'étant continue nulle part sur l'axe $y=0$, il ne sert à rien de tester sa différentiabilité.

\item

\item Nous supposons, bien entendu que $a\neq 0$, sinon c'est de la triche. Sur les points $x\neq 0$, c'est continu et différentiable. Vérifions ce qu'il se passe en $(0,y_0)$. Voyons avec un chemin qui vient de la gauche, et un qui vient de la droite (les deux limites suivantes sont prises avec $t>0$) :
\begin{equation}
	\lim_{t\to 0}f\big( -t,y_0 \big)=0,
\end{equation}
mais
\begin{equation}
	\lim_{t\to 0}f\big( t,y_0 \big)=ay_0
\end{equation}
Donc la fonction peut être continue en $y_0=0$, mais nulle part ailleurs. Il n'est pas très compliqué de vérifier que, effectivement, $f$ est continue au point $(0,0)$. Nous ne devons donc étudier la différentiabilité qu'en $(0,0)$.

Si la différentielle de $f$ en $(0,0)$ existait, alors $\frac{ \partial f }{ \partial u }(0,0)$ existerait aussi. Calculons cette dérivée directionnelle par sa définition :
\begin{equation}	\label{EqLimdsduf0042}
	\frac{ \partial f }{ \partial u }(0,0)=\lim_{t\to 0}\frac{ f(tu_1,tu_2) }{ t }.
\end{equation}
Si $u_1\neq 0$, prendre la limite avec $t>0$ donne $u_1+au_2$, tandis que la limite avec $t<0$ est égale à $u_1$. Par conséquent, la limite \eqref{EqLimdsduf0042} n'existe pas, et la fonction n'est pas différentiable en $(0,0)$.

\item

\end{enumerate}
\end{alternative}


\begin{alternative}
	
\begin{enumerate}
\item $(x,y)\rightarrow  3x^2+x^3y+x$.\\
Combinaison linéaire de fonctions continues et différentiables sur $\eR^2$ (Exercice: prouver rigoureusement que les polyn\^{o}mes sont bien des fonctions continues et différentiables sur $\eR^2$).

\item
    \begin{equation}
        (x,y)\mapsto \begin{cases}
            e    &   \text{si } xy\neq0\\
            e^{x+y}    &    \text{sinon}
        \end{cases}
    \end{equation}
N.B.: Il est toujours utile de se représenter le domaine de chacune des fonctions. 

\noindent La première remarque est que cette fonction est clairement continue et différentiable en tout point hors de $\{xy=0\}$ (fonction constante). Sur $\{xy=0\}$?
\begin{enumerate}
\item Continuité:\\
Prenons un point dans $\{xy=0\}$, par exemple le point $(a,0)$ (Remarquez que le cas $(0,b)$ est réglé par symétrie). Pour voir si la fonction est continue en ce point il faut voir si \[\lim_{(x,y)\rightarrow (0,0)}f(x,y)=f(0,0)=e^a.\] Si on prend deux manières différentes d'aller vers $(a,0)$ ($y=0$ puis $x=a$) on voit que si $a \neq1$ la fonction ne peut pas être continue. Et en $(1,0)$? Si on $(x,y)\rightarrow (1,0)$ avec d'abord $y=0$ puis $y\neq0$ on aura regardé toutes les manières de tendre vers $(1,0)$. Or dans les deux cas les limites valent $e = f(1,0)$, ce qui prouve que la fonction est continue en $(1,0)$ (et $(0,1)$ par symétrie).

\item Différentiabilité:\\
Comme la fonction est discontinue en tout point de la forme $(a,0)$ avec $a\neq1$ et $(0,b)$ avec $b\neq1$ elle est aussi non différentiable en chacun de ces points. Il reste donc les points $(1,0)$ et $(0,1)$. Comme toujours, nous regardons d'abord les dérivées directionnelles en $(1,0)$:
\[\frac{ \partial f }{ \partial uj }(1,0) \;=\;\lim_{t\rightarrow 0}\f{f(1+tu_1,tu_2)-e}{t}\]
Il y a deux possibilités: $u_2=0$ et donc $u=(\pm1.0)$ ou$u_2\neq0$ (pourquoi ne regarde-t-on que ces deux cas?).
\begin{enumerate}
\item si $u\neq(\pm1,0)$.\\
    $\frac{ \partial f }{ \partial u }(1,0) \;=\;\lim_{t\rightarrow 0}\f{e-e}{t}\;=\;0$.
\item si $u=(\pm1,0)$, i.e. si $u=(1,0) = e_1$\\
    $\frac{ \partial f }{ \partial u }(1,0) = \frac{ \partial f }{ \partial x }(1,0)=\lim_{t\rightarrow 0}\f{f(1+t,0)-e}{t}=\lim_{t\rightarrow 0}\f{e^{1+t}-e}{t} =^H0$.
\end{enumerate}
\end{enumerate}
\underline{Conclusion}:\\
Si $f$ était différentiable en $(1,0)$, on aurait que sa différentielle prendrait la forme suivante:
\[\begin{array}{cc} df_{(1,0)}u& = \frac{ \partial f }{ \partial x }(1,0)u_1+\frac{ \partial f }{ \partial y }(1,0)u_2\\
    & = eu_1\;\;\forall u\in\eR^2 \end{array} \]
Sa différentielle satisferait également à:
\[	df_{(1,0)}u = \frac{ \partial f }{ \partial u }(1,0) = 0 \;\; \forall u \neq (\pm1,0) \in \eR^2\]
Les deux propriétés étant contradictoires, la fonction $f$ ne peut être différentiable en $(1,0)$ (ni en $(0,1)$ par symétrie). 		      
\item
    \begin{equation}
        (x,y)\mapsto\begin{cases}
            \frac{ x }{ y }    &   \text{si } y\neq 0\\
            0    &    \text{sinon}
        \end{cases}
    \end{equation}
Continue et différentiable sur $\eR-\{y=0\}$. Sur l'axe $y=0$ elle n'est pas continue.	       
			       
\item
    \begin{equation}
        (x,y)\mapsto\begin{cases}
            x+ay    &   \text{si } x>0\\
            x    &    \text{sinon}
        \end{cases}
    \end{equation}
Si $a=0$ fonction continue et différentiable sur $\eR^2$. Si $a\neq0$, fonction continue et différentiable partout en dehors de l'axe $x=0$. Sur cet axe, elle est discontinue en tout point sauf en $(0,0)$ o\`{u} elle est continue. Mais elle n'est pas différentiable en $(0,0)$ car toutes ses dérivées directionnelles  n'y sont pas définies.
	      
\item
    \begin{equation}
        (x,y)\mapsto\begin{cases}
            \frac{ xy^5 }{ x^6+y^6 }    &   \text{si } x\neq y\\
            0    &    \text{sinon}
        \end{cases}
    \end{equation}
Fonction continue et différentiable partout en dehors de la droite $x=y$.  La fonction est discontinue en chacun des points de cette droite.

\end{enumerate}
\end{alternative}

\end{corrige}
