% This is part of Mes notes de mathématique
% Copyright (c) 2011-2019
%   Laurent Claessens
% See the file fdl-1.3.txt for copying conditions.

%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Permutations, groupe symétrique}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Nous donnons ici quelques éléments à propos du groupe symétrique. Beaucoup de choses supplémentaires sont reportées à la section \ref{SECooZFYQooFfopMa}. Voir aussi le thème \ref{THEMEooQEEWooXDhvhv}.

\begin{definition}      \label{DEFooJNPIooMuzIXd}
    Soit un ensemble \( E\). Une \defe{permutation}{permutation} de l'ensemble \( E\) est une bijection \( E\to E\). Le \defe{groupe symétrique}{groupe!symétrique} de \( E\) le groupe des bijections \( E\mapsto E\); il est noté \( S_E\).

    Le \defe{groupe symétrique}{groupe!symétrique} \( S_n\)\nomenclature[R]{\( S_n\)}{le groupe symétrique} est le groupe des permutations de l'ensemble \( \{ 1,\ldots,n \}\). C'est donc l'ensemble des bijections \( \{ 1,\ldots, n \}\to\{ 1,\ldots, n \}\).
\end{definition}


\begin{definition}      \label{DEFooXNAFooGTbTTJ}
    Une \defe{transposition}{transposition} est une permutation\footnote{Une permutation est une bijection, définition \ref{DEFooJNPIooMuzIXd}.} qui inverse deux éléments. Plus précisément, une bijection \( \sigma\colon E\to E\) est une transposition si il existe \( a,b\in E\) tels que
    \begin{equation}
        \sigma(x)=\begin{cases}
              a  &   \text{si } x=b\\
            b    &   \text{si } x=a\\
            x    &    \text{sinon. }
        \end{cases}
    \end{equation}
\end{definition}

\begin{lemma}[\cite{ooJBHPooToyYYI}]        \label{LEMooSGWKooKFIDyT}
    Le groupe symétrique \( S_n\) est un ensemble fini contenant \( n!\) éléments.
\end{lemma}

\begin{lemma}[\cite{ooJFLYooKMbycW}]        \label{LEMooUPBOooWbwMTx}
    Deux résultats.
    \begin{enumerate}
        \item
            Tout groupe est isomorphe à un sous-groupe d'un groupe symétrique.
        \item
            Tout groupe fini d'ordre \( n\) est isomorphe à un sous-groupe de \( S_n\).
    \end{enumerate}
\end{lemma}

\begin{proof}
    Soit, pour \( g\in G\) donné, l'application
    \begin{equation}
        \begin{aligned}
            \tau_g\colon G&\to G \\
            x&\mapsto gx.
        \end{aligned}
    \end{equation}
    Cela est une bijection de \( G\). En effet, d'une part, \( \tau_g(x)=y\) pour \( x=g^{-1} y\) (surjection) et, d'autre part, \( \tau_g(x)=\tau_g(y)\) implique \( gx=gy\) et donc \( x=y\) (injection).

    Nous avons donc \( \tau_g\in S_G\). De plus l'application
    \begin{equation}
        \begin{aligned}
            \varphi\colon G&\to S_G \\
            g&\mapsto \tau_g
        \end{aligned}
    \end{equation}
    est un morphisme de groupe. Il est injectif parce que si \( \tau_g=\tau_h\) alors \( gx=hx\) pour tout \( x\). En particulier \( g=h\).

    Donc \( \varphi\colon G\to \Image(\varphi)\) est un isomorphisme entre \( G\) et un sous-groupe de \( S_G\).

    Un groupe fini de cardinal \( n\) est isomorphe à un sous-groupe de \( S_G\); or \( S_G\) est isomorphe à un des \( S_n\).
\end{proof}
%---------------------------------------------------------------------------------------------------------------------------
\subsection{Décomposition en cycles}
%---------------------------------------------------------------------------------------------------------------------------

\begin{definition}      \label{DEFooSupportPermutation}
    Le \defe{support}{support!d'une permutation} d'une permutation $\sigma$ est l'ensemble constitué des éléments modifiés par $\sigma$:
    \begin{equation*}
        \supp \sigma = \{ i \in \{1,\ldots,n \} \tq \sigma(i) \neq i\}.
    \end{equation*}
\end{definition}

\begin{definition}  \label{DEFooWPYSooPWuwWO}
    Nous disons qu'un élément \( \sigma \in S_n\) \defe{inverse}{inversion!dans le groupe symétrique} les nombres \( i<j\) si \( \sigma(i)>\sigma(j)\). Soit \( N_\sigma\) le nombre d'inversions que \( \sigma\in S_n\) possède (c'est le nombre de couples \( (i,j)\) avec \( i<j\) tels que \( \sigma(i)>\sigma(j)\)). L'entier
    \begin{equation}
        \epsilon(\sigma)=(-1)^{N_\sigma}
    \end{equation}
    est la \defe{signature}{signature!d'une permutation} de \( \sigma\).
\end{definition}

Un \wikipedia{fr}{Permutation}{élément du groupe symétrique} \( S_n\) peut être décomposé en produit de cycles de supports disjoints de la façon suivante. Pour \( \sigma \in S_n \), nous écrivons d'abord le cycle qui correspond à l'orbite de \( 1\). Ce sera le cycle
\begin{equation}
    (1,\sigma(1),\sigma^2(1),\ldots, \sigma^k(1))
\end{equation}
avec \( \sigma^{k+1}(1)=1\). Ensuite nous recommençons avec le plus petit élément de \( \{ 1,\ldots, n \}\) à ne pas être dans ce cycle, et puis le suivant, etc. La \emph{structure} d'une telle décomposition est la donnée des nombres \( k_i\) donnant le nombre de cycles de longueur \( i\).

\begin{lemma}[\cite{Combes}]        \label{LemmvZFWP}
    Soit \( \sigma=(i_1,\ldots, i_k)\in S_n\), un cycle de longueur \( k\) et \( \theta\in S_n\). Alors
    \begin{equation}
        \theta\sigma\theta^{-1}=\big( \theta(i_1),\ldots, \theta(i_k) \big).
    \end{equation}
    Tous les cycles de longueur \( k\) sont conjugués entre eux.
\end{lemma}

\begin{proposition}[Classes de conjugaison et structure en cycles\cite{UXMTXxl}] \label{PropEAHWXwe}
    Une classe de conjugaison dans \( S_n\) est formée des permutations ayant une décomposition en cycles disjoints de même structure. Autrement dit, deux permutations \( \sigma\) et \( \sigma'\) sont conjuguées si et seulement si le nombre \( k_i\) de cycles de longueur \( i\) dans \( \sigma\) est le même que le nombre \( k'_i\) de cycles de longueur \( i\) dans \( \sigma'\).
\end{proposition}

\begin{proof}
    Soit \( \sigma=c_1\ldots c_m\) la décomposition de \( \sigma\) en cycles de supports disjoints. Les \( c_i\) sont des cycles de supports disjoints. Si \( \tau\) est une permutation, alors
    \begin{equation}
        \sigma'=\tau\sigma\tau^{-1}=(\tau c_1\tau^{-1})\ldots (\tau c_m\tau^{-1}),
    \end{equation}
    mais \( \tau c_i\tau^{-1}\) est un cycle de même longueur que \( c\), puisque le lemme~\ref{LemmvZFWP} nous dit que si \( \sigma=(a_1,\ldots, a_k)\), alors \( \tau c\tau^{-1}=\big( \tau(a_1),\ldots, \tau(a_k) \big)\). Notons encore que les cycles \( \tau c_i\tau^{-1}\) restent à support disjoints.

    Donc tous les éléments de la classe de conjugaison de \( \sigma\) sont des permutations de même structure de \( \sigma\).

    Réciproquement, si \( \sigma'=c'_1\ldots c'_m\) est une décomposition de \( \sigma'\) en cycles disjoints tels que la longueur de \( c_i\) est la même que la longueur de \( c'_i\), alors il suffit de construire des permutations \( \tau_i\) telles que \( \tau_i c_i\tau_i^{-1}=c_i'\), à travers le lemme~\ref{LemmvZFWP}. Comme les supports des $c_i$ et des $c'_i$ sont disjoints, la permutation \( \tau_1\ldots \tau_m\) conjugue \( \sigma\) et \( \sigma'\).
\end{proof}

\begin{example}     \label{EXooQAXRooBsPURs}
    Voyons les classes de conjugaison de \( S_3\). Étant donné que ce groupe agit par définition sur un ensemble à \( 3\) éléments, aucun élément de \( S_3\) ne possède un cycle de plus de \( 3\) éléments. Il y a donc seulement des cycles de longueur deux ou trois (à part les triviaux). Aucun élément de \( S_3\) n'a une décomposition en cycles disjoints contenant deux cycles de deux ou un cycle de deux et un de trois.

    En résumé il y a trois classes de conjugaison dans \( S_3\). La première est celle contenant seulement l'identité. La seconde est celle contenant les cycles de longueur deux et la troisième contient les cycles de longueur \( 3\).

    Ce sont donc
    \begin{subequations}
        \begin{align}
            C_1&=\{ \id \}\\
            C_2&=\{ (1,2),(1,3),(2,3) \}\\
            C_3&=\{ (1,2,3),(2,1,3) \}.
        \end{align}
    \end{subequations}
\end{example}

\begin{example} \label{ExVYZPzub}
    Les classes de conjugaison de \( S_4\). Nous savons que les classes de conjugaison dans \( S_4\) sont caractérisées par la structure des décompositions en cycles (proposition~\ref{PropEAHWXwe}). Le groupe symétrique \( S_4\) possède dont les classes de conjugaison suivantes.
\begin{enumerate}
    \item
        Le cycle vide qui représente la classe constituée de l'identité seule.
    \item
        Les transpositions (de type \( (a,b)\)) qui sont au nombre de \( 6\).
    \item
        Les \( 3\)-cycles. Pour savoir \href{http://www.toujourspret.com/techniques/expression/chants/C/cantique_des_etoiles.php}{quel est leur nombre} nous commençons par remarquer qu'il y a \( 4\) façons de prendre \( 3\) nombres parmi \( 4\) et ensuite \( 2\) façons de les arranger. Il y a donc \( 8\) éléments dans cette classe de conjugaison.
    \item
        Les \( 4\)-cycles. Le premier est arbitraire (parce que c'est cyclique). Pour le second il y a \( 3\) possibilités, et deux possibilités pour le troisième; le quatrième est alors automatique. Cette classe de conjugaison contient donc \( 6\) éléments.
    \item       \label{ITEMooGCMYooKZgFHX}
        Les doubles transpositions, du type \( (a,b)(c,d)\). Dans ce cas, tous les nombres sont permutés, et l'image de $1$ détermine la double transposition. Il y a $3$ images possibles, et donc \( 3\) éléments dans cette classe.
\end{enumerate}
\index{classe de conjugaison!dans $S_4$ }
\end{example}

\begin{proposition} \label{PropPWIJbu}
    Tout élément de \( S_n\) peut être écrit sous la forme d'un produit fini de transpositions.
\end{proposition}
Cette décomposition n'est pas à confondre avec celle en cycles de support disjoints. Par exemple \( (1,2,3)=(1,3)(1,2)\).

\begin{propositionDef}\label{PROPooKRHEooAxtmRv}
    Si une permutation peut être écrire sous forme d'un produit d'un nombre pair de permutations, alors toute décomposition en permutations sera en quantité paire.

    Une telle permutation est une \defe{permutation paire}{permutation paire}.
\end{propositionDef}

\begin{lemma}[\cite{PDFpersoWanadoo}]       \label{LemhxnkMf}
    Un \( k\)-cycle est une permutation impaire si \( k\) est pair et paire si \( k\) est impair.
\end{lemma}

\begin{proposition}[\cite{Combes}]  \label{ProphIuJrC}
    Soit \( S_n\) le groupe symétrique.
    \begin{enumerate}
        \item       \label{ITEMooBQKUooFTkvSu}
            L'application \( \epsilon\colon S_n\to \{ 1,-1 \}\) est l'unique homomorphisme surjectif de \( S_n\) sur \( \{ -1,1 \}\).
        \item
            Si \( s=t_1\cdots t_k\) est le produit de \( k\) transpositions, alors \( \epsilon(s)=(-1)^k\).
    \end{enumerate}
\end{proposition}

\begin{proof}
    Soit \( \sigma,\theta \in S_n\). Afin de montrer que \( \epsilon(\sigma\theta )=\epsilon(\sigma)\epsilon(\theta )\), nous divisons les couples \( (i,j)\) tels que \( i\leq j\) en \( 4\) groupes suivant que \( \theta(i)\gtrless \theta(j)\) et \( \sigma\big( \theta(i) \big)\gtrless \sigma\big( \theta(j) \big)\). Nous notons \( N_1\), \( N_2\), \( N_3\) et \( N_4\) le nombre de couples dans chacun des quatre groupes :
    \begin{center}
    \begin{tabular}{c|c|c}
        $ (i,j)$&   \(\sigma\big( \theta(i) \big)<\sigma\big( \theta(j) \big)\)    &   \(\sigma\big( \theta(i) \big)>\sigma\big( \theta(j) \big)\)\\
        \hline
        \( \theta(i)<\theta(j)\)& \( N_1\)&\( N_2\)\\
        \hline
        \( \theta(i)>\theta(j)\)&\( N_3\)&\( N_4\)
    \end{tabular}
    \end{center}
    Nous avons immédiatement \( N_\theta=N_3+N_4\) et \( N_{\sigma\theta}=N_2+N_4\). Les éléments qui participent à \( N_\sigma\) sont ceux où \( \theta(i)\) et \(\theta(j)\) sont dans l'ordre inverse de \( \sigma\big( \theta(i) \big)\) et \( \sigma\big( \theta(j) \big)\) (parce que \(  \theta\) est une bijection). Donc \( N_\sigma=N_2+N_3\). Par conséquent nous avons
    \begin{equation}
        \epsilon(\sigma)\epsilon(\theta)=(-1)^{N_2+N_3}(-1)^{N_3+N_4}=(-1)^{N_2+N_4}=(-1)^{N_{\sigma\theta}}=\epsilon(\sigma\theta).
    \end{equation}
    Nous avons prouvé que \( \epsilon\) est un homomorphisme. Pour montrer que \( \epsilon\) est surjectif sur \( \{ -1,1 \}\) nous devons trouver un élément \( \tau\in S_n\) tel que \( \epsilon(\tau)=-1\). Si \( \tau\) est la transposition \( 1\leftrightarrow 2\) alors le couple \( (1,2)\) est le seul à être inversé par \( \tau\) et nous avons \( \epsilon(\tau)=-1\).

    Avant de montrer l'unicité, nous montrons que si \( \sigma=t_1\ldots t_k\) alors \( \epsilon(\sigma)=(-1)^k\). Pour cela il faut montrer que \( \epsilon(\tau)=-1\) dès que \( \tau\) est une transposition. Soit \( \tau_{ij}\), la transposition \( (i,j)\) et \( \theta=(i,i+1,\ldots, j-1)\) alors le lemme~\ref{LemmvZFWP} dit que
    \begin{equation}
        \tau_{ij}=\theta\tau_{j-1,j}\theta^{-1}.
    \end{equation}
    La signature étant un homomorphisme,
    \begin{equation}
        \epsilon(\tau_{ij})=\epsilon(\theta)\epsilon(\tau_{j-1,j})\epsilon(\theta)^{-1}=\epsilon(\tau_{j-1,j})=-1.
    \end{equation}

    Nous passons maintenant à la partie unicité de la proposition. Soit un homomorphisme surjectif \( \varphi\colon S_n\to \{ -1,1 \}\) et \( \tau\), une transposition telle que \( \varphi(\tau)=-1\) (qui existe parce que sinon \( \varphi\) ne serait pas surjectif\footnote{Nous utilisons ici le fait que tous les éléments de \( S_n\) sont des produits de transpositions, proposition~\ref{PropPWIJbu}.}). Si \( \tau'\) est une autre transposition, il existe \( \sigma\in S_n\) tel que \( \tau'=\sigma\tau\sigma^{-1}\) (lemme~\ref{LemmvZFWP}). Dans ce cas, \( \varphi(\tau')=\varphi(\tau)=-1\), et si \( \sigma=\tau_1\ldots \tau_k) \),
    \begin{equation}
         \varphi(\sigma)=(-1)^k=\epsilon(\sigma).
    \end{equation}
\end{proof}

\begin{corollary}       \label{CORooZLUKooBOhUPG}
    Si \( \sigma\in S_n\), alors
    \begin{equation}
        \epsilon(\sigma)=\epsilon(\sigma^{-1}).
    \end{equation}
\end{corollary}

\begin{proof}
    Comme dit par la proposition \ref{ProphIuJrC}, \( \epsilon\) est un homomorphisme, donc
    \begin{equation}
        \epsilon(\sigma)\epsilon(\sigma^{-1})=\epsilon(\sigma\sigma^{-1})=\epsilon(\id)=1.
    \end{equation}
    Vu que \( \epsilon(\sigma)\) et \( \epsilon(\sigma^{-1})\) ne peuvent être que \( \pm1\), ils doivent être tous les deux \( 1\) ou tous les deux \( -1\) pour que le produit soit \( 1\).
\end{proof}


%--------------------------------------------------------------------------------------------------------------------------- 
\subsection{Somme à valeurs dans un groupe abélien}
%---------------------------------------------------------------------------------------------------------------------------

Si \( S\) est un ensemble fini, nous savons de la proposition \ref{PROPooJLGKooDCcnWi} qu'il existe un unique \( N\in \eN\) pour lequel il existe une bijection \( \varphi\colon \{ 0,\ldots, N \}\to S\). Cette bijection n'est à priori pas unique.

\begin{lemmaDef}[\cite{MonCerveau}]       \label{DEFooLNEXooYMQjRo}
    Soient un groupe abélien \( (G,+)\) ainsi qu'un ensemble fini \( I\) contenant \( n\) éléments. Soit une application \( f\colon I\to G \). Si \( \sigma_1,\sigma_2\colon \{1,\ldots, n \}\to I\) sont deux bijections, alors\footnote{Pour rappel, le symbole \( \sum_{i=1}^n\) est défini par \ref{DEFooNEVNooJlmJOC}.}
    \begin{equation}
        \sum_{i=1}^nf\big( \sigma_1(i) \big)=\sum_{i=1}^nf\big( \sigma_2(i) \big).
    \end{equation}
    La valeur commune est notée
    \begin{equation}
        \sum_{i\in I}f(i)
    \end{equation}
\end{lemmaDef}

\begin{proof}
    Nous commençons par considérer une transposition \( \sigma\) (qui permute \( k\) et \( l\) avec \( k<l\)). Nous avons
    \begin{subequations}
        \begin{align}
            \sum_{i=1}^nf(i)&=\sum_{i=1}^{k-1}f(i)+f(k)+\sum_{i=k+1}^{l-1}f(i)+f(l)+\sum_{i=l+1}^nf(i)\\
            &=\sum_{i=1}^{k-1}f(i)+f(l)+\sum_{i=k+1}^{l-1}f(i)+f(k)+\sum_{i=l+1}^nf(i)\\
            &=\sum_{i=1}^nf\big( \sigma(i) \big).
        \end{align}
    \end{subequations}
    Pour cela nous avons utilisé le fait que \( G\) est abélien pour permuter \( f(l)\in G\) et \( f(k)\in G\) avec \( \sum_{i=k+1}^{l-1}f(i)\in G\).

    Une permutation quelconque est un produit de telles transpositions (proposition \ref{PropPWIJbu}). Donc pour toute permutation \( \sigma\) nous avons
    \begin{equation}
        \sum_{i=1}^nf\big( \sigma(i) \big)=\sum_{i=1}^nf(i).
    \end{equation}
\end{proof}

La définition \ref{DEFooLNEXooYMQjRo} donne lieu à un certain nombre de remarques.
\begin{enumerate}
    \item
        Elle donne la somme sur un ensemble fini. Un problème avec les ensembles infinis (outre la convergence) est l'ordre de sommation. Si vous voulez sommer sur \( \eZ\), dans quel ordre le faire ?
    \item
        Pour aller plus loin, et sommer sur des ensembles infinis, il faut regarder la définition \ref{DefHYgkkA}. 
\end{enumerate}

\begin{proposition}     \label{PROPooJBQVooNqWErk}
    Soient un groupe abélien \( (G,+)\), un ensemble fini \( I\) est un ensemble fini, une application \( f\colon I\to G\) et une bijection \( \sigma\colon I\to I\). Alors
    \begin{equation}
        \sum_{i\in I}f(i)=\sum_{i\in I}f\big( \sigma(i) \big).
    \end{equation}
\end{proposition}

Si nous avons une application \( L\colon S\to S\), nous notons
\begin{equation}
    \sum_{s\in S}f\big( L(s) \big)=\sum_{s\in S}(f\circ L)(s).
\end{equation}
Cette façon d'écrire donne une interprétation pour la notation \( \sum_{g\in G}f(hg)\) qui arrive dans la proposition \ref{PROPooWJQQooFINSEc}. Il s'agit de considérer l'application \( L_h\) du lemme \ref{LEMooBIBFooBHxFYC}, de considérer\footnote{Le fait que \( L_h\) soit une bijection n'a pas d'importance ici.}
\begin{equation}        \label{EQooQQBEooFDOBVG}
    \sum_{g\in G}f(hg)=\sum_{g\in G}(f\circ L_h)(g)
\end{equation}
et de faire tourner la définition \ref{DEFooLNEXooYMQjRo}. La même chose tient pour définir \( \sum_{g\in G}(gh)\) à l'aide de \( R_h\).


\begin{lemma}
    Soit un ensemble \( A\) fini pouvant être écrit comme une union disjointe \( A=\bigcup_{k=1}^nA_k\); nous supposons que les \( A_i\) sont non vides. Soient un groupe abélien \( (G,+)\) et une application \( f\colon A\to G\). Alors
    \begin{equation}
        \sum_{a\in A}f(a)=\sum_{k=1}^n\sum_{a\in A_k}f(a).
    \end{equation}
\end{lemma}


\begin{proof}
    Le lemme \ref{LEMooTUIRooEXjfDY} nous indique que les parties \( A_k\) sont des ensembles finis. Nous notons
    \begin{enumerate}
        \item
            \( N_0=0\), et \( N_k=\Card(A_k)\),
        \item
            \( S_k=\sum_{i=1}^kN_k\).
        \item
            \( \varphi_k\colon \{ 1,\ldots, N_k \}\to A_k\), une bijection (l'existence est dans la proposition \ref{PROPooJLGKooDCcnWi}).
    \end{enumerate}
    Nous avons que \( \Card(A)=S_n\) par le lemme \ref{LEMooIAMKooLDucJc}. Nous définissons une belle bijection comme il faut :
    \begin{equation}
        \begin{aligned}
            \alpha\colon \{ 1,\ldots, S_n \}&\to A \\
            i&\mapsto \varphi_{k+1}(i-S_k) 
        \end{aligned}
    \end{equation}
    pour \( i\in\mathopen] S_k , S_{k+1} \mathclose]\).

    \begin{subproof}
        \item[\( \alpha\) est bien définie]
            Vu que \( i>S_k\) et \( i\leq S_{k+1}\) nous avons \( i-S_k\in \{ 1,\ldots, N_{k+1} \}\), et donc \( \varphi_{k+1}\) s'applique bien à \( i-S_k\).
        \item[\( \alpha\) est injective]
        Supposons que \( \alpha(i)=\alpha(j)\). Si \( i\in \mathopen] S_k , S_{k+1} \mathclose]\) et \( j\in \mathopen] S_l , S_{l+1} \mathclose]\), alors \( \alpha(i)=\varphi_{k+1}(i-S_k)\in A_{k+1}\) et \( \alpha(j)=\varphi_{l+1}(j-S_l)\in A_{l+1}\). Vu que les \( A_i\) sont disjoints, nous avons \( k=l\), et donc
        \begin{equation}
            \varphi_{k+1}(u-S_k)=\varphi_{k+1}(j-S_k).
        \end{equation}
        Étant donné que \( \varphi_{k+1}\) est injective, nous avons \( i-S_k=j-S_k\), ce qui montre que \( i=j\).
    \item[\( \alpha\) est surjective]
    Soit \( a\in A\). Il existe \( k\) tel que \( a\in A_k\). Nous avons donc un \( s\in\{ 1,\ldots, N_k \}\) tel que \( a=\varphi_k(s)\). En posant \( i=s+S_k\), nous avons bien \( a=\alpha(s+S_k)\) parce que \( s+S_k\in \mathopen] S_{k-1} , S_k \mathclose]\).
    \end{subproof}
    Vu que \( \alpha\) est une bijection, nous avons l'égalité
    \begin{equation}
        \sum_{a\in A}f(a)=\sum_{i=1}^{S_n}(f\circ \alpha)(i).
    \end{equation}
    
    Nous avons encore besoin d'introduire une bijection. Nous posons
    \begin{equation}
        \begin{aligned}
        \beta_k\colon \mathopen] S_{k-1} , S_k \mathclose]&\to A_k \\
        i&\mapsto \varphi_k(i-S_{k-1}). 
        \end{aligned}
    \end{equation}
    Cela est une bijection parce que \( \varphi_k\) en est une, et que \( i\mapsto i-S_{k-1}\) est une bijection de \( \mathopen] S_{k_1} , S_k \mathclose]\).

    Nous pouvons maintenant terminer :
    \begin{subequations}
        \begin{align}
            \sum_{a\in A}f(a)&=\sum_{i=1}^{S_n}(f\circ \alpha)(i)\\
            &=\sum_{k=1}^n\left( \sum_{i=S_{k-1}-1}^{S_k}(f\circ \alpha)(i) \right)        \label{SUBEQooNVKWooZqBAau}\\
        &=\sum_{k=1}^n\left( \sum_{i\in \mathopen] S_{k-1} , S_k \mathclose]}f\big( \varphi_k(i-S_{k-1}) \big)  \right)\\
    &=\sum_{k=1}^n\left( \sum_{i\in \mathopen] S_{k-1} , S_k \mathclose]}f\big( \beta_k(i) \big) \right)\\
    &=\sum_{i=1}^n\left( \sum_{a\in A_k}f(a) \right).
        \end{align}
    \end{subequations}
    Justifications :
    \begin{itemize}
        \item Pour \eqref{SUBEQooNVKWooZqBAau}. Associativité de la somme.
    \end{itemize}
\end{proof}


\begin{proposition}[\cite{MonCerveau}]     \label{PROPooWJQQooFINSEc}
    Soient un groupe fini \( G\) et une fonction \( f\colon G\to A\) où \( A\) est un anneau commutatif. Alors
    \begin{equation}
        \sum_{g\in G}f(g)=\sum_{g\in G}f(gh)=\sum_{g\in G}f(hg)
    \end{equation}
    pour tout \( h\in G\).
\end{proposition}

\begin{proof}
    Nous avons une bijection \( \varphi\colon \{ 0,\ldots,  N \}\to G\) garantie par la proposition \ref{PROPooJLGKooDCcnWi}. La définition est que
    \begin{equation}
        \sum_{g\in G}f(g)=\sum_{i=0}^Nf\big( \varphi(i) \big).
    \end{equation}
    Par ailleurs, le lemme \ref{LEMooBIBFooBHxFYC} donne une bijection \( L_h\colon G\to G\) et permet de considérer la composée
    \begin{equation}
        \begin{aligned}
            \varphi'\colon \{ 0,\ldots,  N \}&\to G \\
            \varphi'=L_h\circ \varphi.
        \end{aligned}
    \end{equation}
    La proposition \ref{DEFooLNEXooYMQjRo} nous permet d'utiliser la bijection \( \varphi'\) au lieu de \( \varphi\) pour exprimer la somme \( \sum_{g\in G}\). Ensuite un jeu de notation utilisant \eqref{EQooQQBEooFDOBVG} donne
    \begin{equation}
        \begin{aligned}[]
            &\sum_{g\in G}f(g)=\sum_{i=0}^Nf\big( \varphi(i) \big)=\sum_{i=0}^Nf\big( \varphi'(i) \big)=\sum_{i=0}^N(f\circ L_h\circ \varphi)(i)\\
            &\quad=\sum_{i=0}^N(f\circ L_h)\big( \varphi(i) \big)=\sum_{g\in G}(f\circ L_h)(g)=\sum_{g\in G}f(hg).
        \end{aligned}
    \end{equation}
    En ce qui concerne \( \sum_{g\in G}f(gh)\), c'est la même chose, en utilisant \( R_h\) au lieu de \( L_h\).
\end{proof}

Tout cela nous permet de faire une somme sympathique et bien connue.
\begin{lemma}
    Soit \( n\in \eN\). Nous avons
    \begin{equation}
        \sum_{k=0}^nk=\frac{ n(n+1) }{ 2 }.
    \end{equation}
\end{lemma}

\begin{proof}
    La preuve est pratiquement immédiate par récurrence. Nous allons donner une preuve plus «constructive», qui formalise l'idée classique d'écrire la somme à l'endroit et à l'envers.


    Nous notons \( S\) la somme \( \sum_{k=0}^nk\). Le lemme \ref{DEFooLNEXooYMQjRo} dit que si \( \sigma_i\colon \{ 0,\ldots, n \}\to \{ 0,\ldots, n \}\) sont deux bijections, alors \( \sum_{k=0}^nf\big( \sigma_1(k) \big)=\sum_{k=0}^nf\big( \sigma_2(k) \big)\). Nous sommes intéressé au cas \( f(i)=i\).

    En prenant \( \sigma_1(k)=k\) et \( \sigma_2(k)=n-k\), nous avons
    \begin{equation}
        S=\sum_{k=0}^nk=\sum_{k=0}^n(n-k).
    \end{equation}
    Donc
    \begin{equation}
        2S=\sum_{k=0}^n\big( k+(n-k) \big)=\sum_{k=0}^nn=n\sum_{k=0}^n1=n(n+1).
    \end{equation}
    En divisant par deux, nous obtenons le résultat annoncé.
\end{proof}

\begin{proposition}     \label{PROPooQMUDooQQVRIe}
    Si \( E\) est un ensemble fini et si \( G\) est un groupe abélien, alors pour toute fonction \( f\colon E\to G\) et pour toute permutation\footnote{Une permutation est une bijection, définition \ref{DEFooJNPIooMuzIXd}.} \( \sigma\) de \( E\),
    \begin{equation}
        \prod_{i\in E}f(i)=\prod_{i\in E}f\big( \sigma(i) \big)
    \end{equation}
\end{proposition}

\begin{proof}
    C'est exactement la proposition \ref{DEFooLNEXooYMQjRo}, sauf qu'ici la loi de groupe est notée multiplicativement au lieu de additivement.
\end{proof}


%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Produit semi-direct de groupes}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

\begin{definition}
    Une \defe{suite exacte}{suite!exacte} est une suite d'applications comme suit :
    \begin{equation}
        \xymatrix{%
        \cdots \ar[r]^{f_i}&A_i\ar[r]^{f_{i+1}}& A_{i+1}\ar[r]^{f_{i+2}}&\ldots
           }
    \end{equation}
    où pour chaque \( i\), les applications \( f_i\) et \( f_{i+1}\) vérifient \( \ker(f_{i+1})=\Image(f_i)\). Lorsque les ensembles \( A_i\) sont des groupes, alors nous demandons de plus que les \( f_i\) soient de homomorphismes.
\end{definition}

Très souvent nous sommes confrontés à des suites exactes de la forme
\begin{equation}
    \xymatrix{%
    1 \ar[r]& A\ar[r]^f&G\ar[r]^g&B\ar[r]&1
       }
\end{equation}
où \( G\), \( A\) et \( B\) sont des groupes, \( 1\) est l'identité. La première flèche est l'application \( \{ 1 \}\to A\) qui à \( 1\) fait correspondre \( 1\). La dernière est l'application \( B\to 1\) qui à tous les éléments de \( B\) fait correspondre \( 1\). Le noyau de \( f\) étant l'image de la première flèche (c'est-à-dire \( \{ 1 \}\)), l'application \( f\) est injective. L'image de \( g\) étant le noyau de la dernière flèche (c'est-à-dire \( B\) en entier), l'application \( g\) est surjective.

\begin{definition}     \label{DEFooKWEHooISNQzi}
    Soient \( N\) et \( H\) deux groupes et un morphisme de groupes \( \phi\colon H\to \Aut(N)\). Le \defe{produit semi-direct}{produit!semi-direct} de \( N\) et \( H\) relativement à \( \phi\), noté \( N\times_{\phi}H\)\nomenclature[R]{\( N\times_{\phi}H\)}{produit semi-direct} est l'ensemble \( N\times H\) muni de la loi (que l'on vérifiera être de groupe)
    \begin{equation}\label{EqDRgbBI}
        (n,h)\cdot (n',h')=(n\phi_h(n'),hh').
    \end{equation}
\end{definition}
Attention à l'ordre quelque peu contre-intuitif. Lorsque nous notons \( N\times_{\phi}H\), c'est bien \( \phi\colon H\to \Aut(N)\), c'est-à-dire \( H\) qui agit sur \( N\) et non le contraire.

Lorsque \( N\) et \( H\) sont des sous-groupes d'un même groupe, le plus souvent \( \phi\) est l'action adjointe définie en~\ref{DEFooCORTooEeOLPT}.

Le théorème suivant permet de reconnaitre un produit semi-direct lorsqu'on en voit un.
\begin{theorem}[\cite{MathAgreg}]       \label{THOooZNYTooPhnIdE}
    Soit une suite exacte de groupes
    \begin{equation}
    \xymatrix{%
    1 \ar[r]        & N\ar[r]^i&G\ar[r]^s&H\ar[r]&1
       }
    \end{equation}
    S'il existe un sous-groupe \( \tilde H\) de \( G\) à partir duquel \( s\) est un isomorphisme, alors
    \begin{equation}
        G\simeq i(N)\times_{\sigma}\tilde H
    \end{equation}
    où \( \sigma\) est l'action adjointe\footnote{Le fait que \( H\) agisse sur \( i(N)\) fait partie du théorème.} de \( \tilde H\) sur \( i(N)\).
\end{theorem}

\begin{proof}
    Nous posons \( \tilde N=i(N)\) et nous allons subdiviser la preuve en petits pas.

    \begin{enumerate}
        \item  \( \tilde N\) est normal dans \( G\). En effet étant donné que la suite est exacte nous avons \( \tilde N=\ker(s)\). Le noyau d'un morphisme est toujours un sous-groupe normal.

        \item \( \tilde N\cap\tilde H=\{ e \}\). L'application \( s\) étant un isomorphisme depuis $\tilde H$, il n'y a pas d'éléments de \( \tilde H\) dans \( \ker(s)\) autre que $e$.

        \item\label{ItemzIaXGM} \( G=\tilde N\tilde H\). Nous considérons \( g\in G\) et \( h\in \tilde H\) tel que \( s(g)=s(h)\). L'existence d'un tel \( h\) est assurée par le fait que \( s\) est surjective depuis \( \tilde H\). Du coup nous avons \( e=s(gh^{-1})\), c'est-à-dire \( gh^{-1}\in \ker (s)=\tilde N\). Nous avons donc bien la décomposition \( g=(gh^{-1})h\), et donc \( G=\tilde N\tilde H\).

        \item\label{ItemUGFjle} L'écriture \( g=nh\) avec \( n\in \tilde N\) et \( h\in \tilde H\) est unique. Si \( nh=n'h'\), alors \( n=n'h'h^{-1}\), ce qui signifierait que \( h'h^{-1}\in\tilde N\). Mais étant donné que \( \tilde H\cap\tilde N=\{ e \}\), nous obtenons \( h=h'\) et par suite \( n=n'\).

        \item   \label{ItemUZlrKo}
            L'application
            \begin{equation}
                \begin{aligned}
                    \phi\colon G&\to \tilde N\times \tilde H \\
                    nh&\mapsto (n,h)
                \end{aligned}
            \end{equation}
            est une bijection. C'est une conséquence des points~\ref{ItemzIaXGM} et~\ref{ItemUGFjle}.

        \item
            Si sur \( \tilde N\times \tilde H\) nous mettons le produit
            \begin{equation}
                (n,h)\cdot(n',h')=(n\sigma_hn',hh')
            \end{equation}
            où \( \sigma\) est l'action adjointe du groupe sur lui-même, c'est-à-dire \( \sigma_x(y)=xyx^{-1}\), alors \( \phi\) est un isomorphisme. Si \( g,g'\in G\) s'écrivent (de façon unique par le point~\ref{ItemUZlrKo}) \( g=nh\) et \( g'=n'h'\) alors
            \begin{subequations}
                \begin{align}
                    \phi(nhn'h')&=\phi(n\underbrace{hn'h^{-1}}_{\in \tilde N}hh')\\
                    &=\phi\big( (nhn'h^{-1})(hh') \big)\\
                    &=(nhn'h^{-1},hh')\\
                    &=(n,h)\cdot(n',h')\\
                    &=\phi(nh)\phi(n'h').
                \end{align}
            \end{subequations}
    \end{enumerate}
\end{proof}

\begin{corollary}\label{CoroGohOZ}
    Soit \( G\) un groupe, et \( N,H\) des sous-groupes de \( G\) tels que
    \begin{enumerate}
        \item
            \( H\) normalise \( N\) (c'est-à-dire que \( hnh^{-1}\in N\) pour tout \( h\in H\) et \( n\in N\)\footnote{Ou encore que \( H\) agit sur \( N\) par automorphismes internes.}),
        \item
            \( H\cap N=\{ e \}\),
        \item
            \( HN=G\).
    \end{enumerate}
    Alors l'application
    \begin{equation}
        \begin{aligned}
            \psi\colon N\times_{\sigma}H&\to G \\
            (n,h)&\mapsto nh
        \end{aligned}
    \end{equation}
    est un isomorphisme de groupes.
\end{corollary}
Dans les hypothèses, l'ordre entre \( N\) et \( H\) est important lorsqu'on dit que c'est \( N\) qui agit sur \( H\); mais l'hypothèse \( NH=G\) est équivalente à \( HN=G\) (passer à l'inverse pour s'en assurer).

Insistons encore un peu sur la notation : dans \( N\times_{\sigma}H\), c'est \( H\) qui agit sur \( N\) par \( \sigma\).

%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Groupe de torsion}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Soit \( G\) un groupe. Un élément \( g\in G\) est un \defe{élément de torsion}{element@élément!de torsion} s'il est d'ordre fini. La \defe{torsion}{torsion!d'un groupe} de \( G\) est l'ensemble de ses éléments de torsion. Nous disons qu'un groupe est un \defe{groupe de torsion}{groupe!de torsion} si tous ses éléments sont de torsion.

\begin{example}
    Le groupe additif \( \eQ/\eZ\) est un groupe de torsion parce que si \( [x]=[p/q]\), alors \( q[x]=[p]=[0]\).
\end{example}

\section{Famille presque nulle}
%+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Soit \( (G,+)\) un groupe abélien et \( \mF=\{ g_i \}_{i\in I}\) une famille d'éléments de \( G\) indicés par un ensemble \( I\). Le \defe{support}{support!famille d'éléments} de \( \mF\) est l'ensemble \( \{ i\in I\tq g_i\neq 0 \}\). La famille est dite \defe{presque nulle}{presque!nulle} si le support est fini.

Nous disons que \( \mF\) est une \defe{suite}{suite} si \( I=\eN\).

