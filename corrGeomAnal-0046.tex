\begin{corrige}{GeomAnal-0046}

    Les dérivées partielles sont
    \begin{subequations}
        \begin{align}
            \frac{ \partial f }{ \partial x }&=2x+y e^{x}\\
            \frac{ \partial f }{ \partial y }&=z\cos(yz)+e^x\\
            \frac{ \partial f }{ \partial z }&=y\cos(yz).
        \end{align}
    \end{subequations}
    Le gradient consiste à mettre les dérivées partielles en colonne :
    \begin{equation}
        \nabla f(1,\pi,\frac{ 1 }{2})=\begin{pmatrix}
            \pi e+2    \\ 
            e    \\ 
            0    
        \end{pmatrix}.
    \end{equation}

    De nombreux étudiants se sont lancés dans le calcul de la dérivée directionnelle avec la définition en termes de limites. La réponse est évidemment correcte, mais ce n'est pas le plus simple.

        Il ne faut utiliser les définition des limites, dérivées ou différentielles qu'aux points où il y a des problèmes : bord de domaine, dérivée partielles non continues, des infinis, \ldots

        Dans les cas où la fonction est $C^{\infty}$ (polynômes, sinus, cosinus et composées), le plus simple est d'utiliser les dérivées partielles et d'utiliser les formules du lemme \ref{LemdfaSurLesPartielles}. Dans notre cas, nous écrivons la dérivée directionnelle en tant que produit scalaire avec le gradient :
        \begin{equation}
            \frac{ \partial f }{ \partial v }=\nabla f\cdot v=(\pi e+2)\frac{ 1 }{2}+e\frac{ 1 }{2}+0\frac{1}{ 3 }=\frac{ 1 }{2}(\pi e+2)+\frac{ e }{2}.
        \end{equation}

        Pour justifier la différentiabilité, il y a plusieurs façon. Dans l'ordre de simplicité :
        \begin{enumerate}
            \item
                Il s'agit d'une composée de fonctions différentiables (sans dénominateurs qui s'annulent).
            \item
                Les dérivées partielles sont continues partout, et en particulier au voisinage de n'importe quel point. La proposition \ref{Diff_totale} conclut alors que la fonction est différentiable en chaque point.
            \item
                Le candidat différentielle est
                \begin{equation}
                    T(u)=(2x+ye^x)u_1+(z\cos(yz)+e^x)u_2+(y\cos(yz))u_3.
                \end{equation}
                En substituant cela dans la définition, et en calculant la limite, nous obtenons zéro.
        \end{enumerate}
        C'est la seconde méthode qui est «conseillée». En effet la première est trop simpliste et risque de provoquer des erreurs de temps en temps. La troisième est trop sophistiquée et amène des calculs dans lesquels il est facile de se tromper. Il est cependant important de comprendre les trois méthodes parce qu'il y a des exercices dans lesquels il n'y a pas de choix.
\end{corrige}
