% This is part of (almost) Everything I know in mathematics
% Copyright (c) 2013-2014
%   Laurent Claessens
% See the file fdl-1.3.txt for copying conditions.

%%%%%%%%%%%%%%%%%%%%%%%%%%
%
   \section{G\r arding spaces}
%
%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Strongly continuous action and smooth vector}  \label{subsec:actionrn}
%--------------------------------------------------------

\subsubsection{Strongly continuous action}
%/////////////////////////////////////////

Let $\dpt{T}{G}{\svec(X)}$ be a homomorphism between a topological group $G$ and the space $\svec(X)$ of bounded operators on a Banach space, $X$. In particular, $T$ is an action of $G$ on $X$. We say that $T$ is \defe{locally bounded}{locally!bounded representation} if for all $g\in G$, there exists a neighbourhood $\mU$ of $g$ in $G$ and a real $K>0$ such that $\| T(h) \|\leq K$ for all $h\in\mU$. This norm is the operator norm on a Banach space \ref{def:normappl}. The action $T$ is \defe{strongly continuous}{strongly continuous!action}\index{continuous!strongly} if for all $x\in X$, the map $g\to T(g)x$ is continuous for the norm topology on $X$.

Let $V$ be a $d$-dimensional vector space with an inner-product denoted by $v\cdot w$; we consider $\{ X_1,\ldots X_d \}$, an orthonormal basis. Let $\{\| . \|_k\}$ be a family of seminorm which defines the topology on a Fréchet space $A$, and $C_{\flat}(V,A)$ \nomenclature{$C_{\flat}(V,A)$}{Set of continuous bounded map} the set of continuous bounded maps $V\to A$ on which we define a topology from the seminorms
\begin{equation} \label{eq:def_semi_n}
  \| f \|_k=\sup_{w\in V}\| f(w) \|_k.
\end{equation}

We consider the action $\dpt{\tau}{V\times C_{\flat}(V,A)}{C_{\flat}(V,A)}$ defined by translation:
\begin{equation} \label{eq:def_act_tau}
(\tau_vf)(w)=f(v+w).
\end{equation}
It is naturally isometric for each of the seminorms \eqref{eq:def_semi_n}, but it is not specially a strongly continuous action. We write 
\begin{equation}
	\begin{aligned}
		\phi_f\colon V&\to C_{\flat}(V,A) \\
		\phi_f(v)&=\tau_vf 
	\end{aligned}
\end{equation}

\begin{remark}
The Fréchet space $A$ is not specially $\eC$ or something like that. In fact, our intention is to consider as $A$ a space like $ C^{\infty}(R)$ where $R$ is equipped with seminorms of the form $\| f \|_{\mu}=\sup_{r\in R}| (\partial^{\mu}f)(r) |$.
\end{remark}

\begin{proposition}
The maximal subset of $C_{\flat}(V,A)$ on which action $\tau$ is strongly continuous is the set $C_u(V,A)$ of uniformly continuous maps.
\end{proposition}

\begin{proof}
We begin by write down the definition of uniform continuity (\ref{def:unif_cont}) of a map $\dpt{f}{V}{A}$ in the present setting. Let $\mO$ be a neighbourhood of zero in $A$, i.e. a choice of $k$ and $\varepsilon$ for which we say that $a\in\mO$ if $\| a \|_k<\varepsilon$. Then there exists a neighbourhood $\mU_{k\varepsilon}$ of zero in $V$ such that 
\begin{equation}
v_1-v_2\in\mU_{k\varepsilon}\Rightarrow \| f(v_1)-f(v_2) \|_k<\varepsilon.
\end{equation}
The fact for $f$ to be uniformly continuous is the existence of such a $\mU_{k\varepsilon}$ for all $k$ and $\varepsilon$. 

We begin to prove that if $v\to\tau_vf$ is continuous, then $f$ is uniformly continuous.  For this, an open set $\mR\subset C_{\flat}(V,A)$ is given by a choice of $k$, $\varepsilon$ and $g_0\in C_{\flat}(V,A)$ :
\begin{equation}
   \mR=\{ g\in C_{\flat}(V,A)\tq \| g-g_0 \|_k< \varepsilon  \}.
\end{equation}
The condition for $v$ to belongs to $\phi_f^{-1}(\mR)$ is $\| g_0-\tau_vf \|_k<\varepsilon$ or
\begin{equation}
  \sup_{w\in V}\| g_0(w)-f(v+w) \|_k<\varepsilon.
\end{equation}
Let us take a particular $\mR$ : one which is taken with $g_0=f$. A necessary condition for $\phi_f$ to be continuous is that the set of $v\in V$ such that
\begin{equation} \label{eq:vdansU}
  \sup_{w\in V}\| f(w)-f(v+w) \|_k<\varepsilon
\end{equation}
is open in $V$. From hypothesis, we know that it is true (because $\phi_f$ is continuous). It is also evident that $v=0$ belongs to this set; let is write it $\mU_{k\varepsilon}$ and consider $v_1,v_2\in V$ such that $v_1-v_2\in\mU_{k\varepsilon}$. Then
\begin{equation}
\begin{split}
  \| f(v_1)-f(v_2) \|_k&=\| f(v_2)-f(v_2+(v_1-v_2)) \|_k\\
                       &\leq \sup_{w\in V}\| f(w)-f(w+(v_1-v_2)) \|_k\\
                       &\leq \varepsilon
\end{split}
\end{equation}
because $v_1-v_2$ fulfils \eqref{eq:vdansU}.

Now let us prove that if $f$ is uniformly continuous, then $\phi_f$ is continuous; or, in other words, for all choice of $g_0\in C_{\flat}(V,A)$, $\varepsilon>0$ and $k$, the set
\begin{equation}
\mA=\left\{ v\in V\tq \sup_{w\in V}\| g_0(w)-f(v+w) \|_k<\varepsilon \right\}
\end{equation}
is open in $V$. For, we consider $v_1$ in this set and we prove that if $v_1-v_2$ belongs to a suitably small open set around zero, then $v_2$ belongs to $\mA$ too. So let $v_2$ be such that
\[ 
  \| f(v_1)-f(v_2) \|<\varepsilon_1
\]
and let us search for an $\varepsilon_1$ such that $v_2\in\mA$ :
\begin{equation}
   \sup_{w\in V}\| g_0(w)-f(v_2+w) \|\leq \sup_{w\in V}\| g_0(w)-f(v_1+w) \|+\sup_{w\in V}\| f(v_1+w)-f(v_1+w_2) \|.
\end{equation}
The first term is lesser than $\varepsilon$ by construction of $v_1$ while the second is lesser than $\varepsilon_1$ from the uniform continuity of $f$.

\end{proof}

\subsubsection{Smooth vector of an action}
%/////////////////////////////////////////-

Let $\dpt{\alpha}{V\times\cA_0}{\cA_0}$ be a strongly continuous action of the topological vector space $V$ on a $C^*$-algebra $\cA_0$. The space $\cA^{\infty}$ of the \defe{smooth vector}{smooth!vector} for the action $\alpha$ is the set
\begin{equation}
  \cA^{\infty}=\{ a\in\cA_0\tq x\to\alpha_x(a)\textrm{ is smooth} \}
\end{equation}
where ``smooth'' means infinitely continuously derivable.

\begin{example}
 The set of smooth vectors of the action by translation of $\eR$ on $ C_{\flat}(\eR,\eC)$ : $(\tau_xf)y=f(x+y)\in\eC$. We define $\dpt{\phi_f}{\eR}{C_{\flat}(\eR,\eC)}$ by $\phi_f(x)=\tau_xf$. The derivative is defined as on any vector space by the limit
\begin{equation}
\begin{split}
   (\phi_f)'(x)y&=\lim_{\varepsilon\to 0}\frac{\phi_f(x+\varepsilon)-\phi_f(x)}{\varepsilon}y\\
                &=\lim_{\varepsilon\to 0}\frac{f(x+\varepsilon+y)-f(x+y)}{\varepsilon}\\
                &=f'(x+y)\\
                &=\phi_{f'}(x)y.
\end{split}
\end{equation}
So $\phi_f'=\phi_{f'}$. First conclusion: $f$ must be smooth. But we just showed that $\phi_f$ is continuous if and only if $f$ is uniformly continuous. Then $\cA^{\infty}$ is the set of function from $\eR$ to $\eC$ whose itself and all their derivatives are uniformly continuous. In particular, these functions and all their derivatives are bounded on any bounded set (not only compact ones).

\end{example}

\subsection{Action on Hilbert space}
%-----------------------------------

Let us particularise definition of $ C^{\infty}$ vector to action of a Lie group $G$ on a Hilbert space $H$. Some proofs will be omitted. They can be found in \cite{Knapp_reprez}.

For a map $\dpt{f}{\eR^N}{E}$, the \defe{differential}{differential} of $f$ at $x_0\in\eR^N$ is the linear map $\dpt{df_{x_0}}{\eR^N}{E}$ defined by
\begin{equation}
(df_{x_0})a=\Dsdd{ f(x_0+at) }{t}{0}=\lim_{t\to 0}\frac{f(x_0+at)-f(x_0)}{t}.
\end{equation}
where the $d/dt(\ldots)$ is a notation for the limit in $E$. It is a particular case of $\dpt{f}{G}{E}$ where $G$ is a Lie group. In this case, we define
\begin{equation}
  df_{g_0}X=\Dsdd{ f(X(t)) }{t}{0}=\lim_{t\to 0}\frac{f(X(t)-f(g_0))}{t}.
\end{equation}
One can see $g\to df_g$ as a map $G\to \End(T_gG,E)$. The space $\End(T_gG,E)$ is naturally given with a structure of topological vector space. We say that $f$ is of class $C^r$\nomenclature{$C^r$}{Functions of class $C^r$} at $g_0$ if $df_{g_0}$ is $C^r$. We say that $f$ is smooth\index{smooth!map} or $ C^{\infty}$\nomenclature{$C^{\infty}$}{Smooth functions} is it is of class $r$ for all $r$.

The \defe{partial derivative}{partial!derivative} of $f$ in the direction of the tangent vector $X$ at $x$ is $(df)_xX$. It comes from the formula $df_xX=X_x(f)$ which gives the usual partial derivative when $f$ is a function from $\eR^n$ to $\eR^m$.

When $T$ is a representation of the Lie group $G$ on the Hilbert space $H$, a vector $v\in E$ is a $ C^{\infty}$ vector if the map $g\to T(g)v$ is $ C^{\infty}$ as map $G\to E$. The set of $ C^{\infty}$ vectors is a vector space identified by\quext{C'est pas identified with ?} $ C^{\infty}(T)$\nomenclature{$C^{\infty}(T)$}{Space of smooth vectors of $T$}.

A \defe{representation}{representation!of a Lie group on a Hilbert} is a map $\dpt{ T }{ G }{ \End(E) }$ in such a way that the resulting map $G\times E\to E$ is continuous. In particular, $g\to T(g)v$ is continuous for all $v\in E$. The \defe{strong continuity}{strongly continuous!representation} is the fact that $g\to T(g)v$ is continuous at $g=e$ and $\| T(g) \|$ is uniformly bounded on a neighbourhood of $e$. A closed subspace $\hH_1\subseteq\hH$ is a \defe{subrepresentation}{subrepresentation} og $T$ is $T(G)\hH_1\subseteq \hH_1$. 

From now, we denote by $f_v$\nomenclature{$f_v$}{$g\mapsto T(g)v$} the map 
		\begin{equation}
		\begin{aligned}
			 f_v  \colon G &\to E\
			g&\mapsto T(g)v.
		\end{aligned}
	\end{equation}	
Let $v\in C^{\infty}(T)$ and $\dpt{g_v}{\mG}{E}$, 
\[ 
  g_v(X)=T(e^X)v.
\]
As composition of two smooth map, it is a $ C^{\infty}$ map. We define $\dpt{\varphi(X)}{E}{E}$ by
\[ 
  \varphi(X)v=(dg_v)_0(X).
\]

\begin{proposition}
Let $\dpt{T}{G}{\End(E)}$, a representation of the Lie group $G$ on a Hilbert space $H$. For each  $X\in\mG$, we define $\dpt{\varphi_X}{C^{\infty}(T)}{E}$ by
\begin{equation} \label{eq:250105r1}
   \varphi_x(v)=\varphi(X)v=\lim_{t\to 0}\frac{T(e^{tX})v-v}{t}.
\end{equation}

Then  each $\varphi_X$ leaves $ C^{\infty}(T)$ unchanged and $\varphi$ is a representation of $\mG$ on $ C^{\infty}(T)$. This representation naturally extends to a representation of the universal enveloping algebra $\mU(\mG^{\eC})$ on $ C^{\infty}(T)$ with $\varphi(1)=1$.

\end{proposition}

\begin{proof}
Let $v\in C^{\infty}(T)$ and $\dpt{f_v}{G}{E}$, $f_v(g)=T(g)v$. We apply $T(g)$ to the two sides of equation \eqref{eq:250105r1} :
\begin{equation}
\begin{split}
T(g)\varphi(X)v&=\lim_{t\to 0}\frac{T(ge^{tX})v-T(g)v}{t}\\
		&=\lim_{t\to0}\frac{f_f(ge^{tX})-f_v(g)}{t}\\
		&=\Dsdd{ f(ge^{tX}) }{t}{0}\\
		&=\tilde X_gf_v
\end{split}
\end{equation}
Since $g\to f_v(g)$ is $ C^{\infty}$, the map $g\to\tilde X_gf_v$ is $ C^{\infty}$ too. Then $g\to T(g)\varphi(X)v$ is $ C^{\infty}$. This proves that $\varphi(X)v\in C^{\infty}(T)$. So $\dpt{\varphi_X}{ C^{\infty}(T)}{ C^{\infty}(T)}$.

Proposition \ref{prop:extunifmap} extends $\dpt{\varphi}{\mG}{\End(E)}$ into a representation of $\mU(\mG^{\eC})$ on $ C^{\infty}(T)$. In order to use this proposition, we have to prove that 
\[ 
  \varphi[X,Y]=\varphi(X)\circ\varphi(Y)-\varphi(Y)\circ\varphi(X).
\]
A proof of this equation is given in \cite{Knapp_reprez}.

 
\end{proof}	
Once again, a proposition without proof :

\begin{proposition}
 If $U$ is an unitary representation of $G$ on $E$, then each $\varphi(X)$ for the associated representation $\dpt{\varphi}{\mG}{\End( C^{\infty}(T))}$ is skew-hermitian.
\end{proposition}


\begin{proposition}
Let $T$ be a representation of $G$ on $E$. Then $ C^{\infty}(T)$ is stable for each $T(g)$. If $\varphi$ is the corresponding representation of $\mU(\mG^{\eC})$ on $ C^{\infty}(E)$, then for all $D\in\mU(\mG^{\eC})$ and all $g\in G$, we have
\[ 
  T(g)\varphi(D)T(g^{-1})=\varphi(\Ad(g)D).
\]
\end{proposition}

\begin{proof}
The map $g\to T(g)T(g_0)v$ is the composition of the (smooth) product $g\to gg_0$ in $G$ and the smooth map $g\to T(g)v$ which are both $ C^{\infty}$. This proves that for all $g_0\in G$, the vector $T(g_0)v$ belongs to $C^{\infty}(T)$.

Let now $X\in\mG$, $g\in G$ and $v\in C^{\infty}(T)$. We have
\begin{equation}
\begin{split}
  \frac{T(e^{tX})-\mtu}{t}T(g)^{-1}v&=T(g^{-1})\left( \frac{T(ge^{tX}g^{-1})-\mtu}{t} \right)v
\end{split}
\end{equation}
Let us consider the limit $t\to 0$ of this equation. From \eqref{eq:250105r1}, the left hand side becomes $\varphi(X)T(g)^{-1}v$, while the right hand side is $T(g^{-1})\varphi(\Ad(g)X)v$. Then for all $X\in\mG$,
\begin{equation}
  T(g)\varphi(X)T(g^{-1})=\varphi(\Ad(g)X).
\end{equation}
This is the thesis in the particular case $D\in\mG$. The conclusion for all $D\in\mU(\mG)$ comes from the discussion of subsection \ref{ssadjunif} :
\begin{equation}
   T(g)\varphi(X\otimes Y)T(g^{-1})=\varphi(\Ad(g)X)\varphi(\Ad(g)Y)
			=\varphi(\Ad(g)X\otimes\Ad(g)Y)
			=\varphi(\Ad(g)(X\otimes Y)).
\end{equation}
\end{proof}

\begin{corollary}
If $T$ is a representation of $G$ on $E$ and $D\in\mZ(\mU(\mG))$ -- the center of $\mU(\mG)$--, then $\varphi(D)$ commutes with all the $T(g)$.
\end{corollary} 

\begin{proof}
Lemma \ref{lem:equivDAd} make $\Ad(g)D=D$ and the preceding proposition concludes. 
\end{proof}

\begin{proposition}
Let $T$ be a representation of the Lie group $G$ on a Hilbert space $E$ and an open subspace $E\subseteq E$ stable under all operators $\overline{ \varphi }(X)$ defined by
\begin{equation} \label{eq:ovlphilim}
\overline{ \varphi }(X)v=\lim_{t\to 0}\frac{ T(e^tX)v-v }{ t }.
\end{equation}
Then $S\subseteq  C^{\infty}(T)$.
\end{proposition}

\begin{proof}
Let $v\in S$ and $\dpt{ f_v }{ G }{ H }$, $f_v(g)=T(g)v$. All the partial derivatives of $f_v$ exist at $e\in G$ by hypothesis and their value are given by
\begin{equation} \label{eq:dfeX}
  (df_v)_eX=\overline{ \varphi }(X)v 
\end{equation}
Let us apply $T(g)$ to both side of equation \eqref{eq:ovlphilim} :
\begin{equation}
\begin{aligned}
   T(g)\overline{ \varphi }(X)v&=\lim_{t\to 0}\frac{ T(ge^{tX}g^{-1})-\mtu }{ t }T(g)v\\
				&=\lim_{t\to 0}\frac{ T(e^{t\Ad(g)X}-\mtu }{ t }T(g)v&\in S\textrm{ by assumption}\\
				&=\overline{ \varphi }(\Ad(g)X)T(g)v.
\end{aligned}
\end{equation}
Equation \eqref{eq:dfeX} only gives partial derivatives of $f_v$ at $e$. Let us compute, for $X_g\in T_gG$,
\[ 
  (df_v)_gX_g=\Dsdd{ f_v(X_g(t)) }{t}{0}.
\]
We parametrize $X_g(t)=ge^{tX}$, where $X\in\mG$ is chosen in such a way that $X_g= \tilde X_g$ :

 \begin{equation}
\begin{split}
  (df_v)_gX_g&=\lim_{t\to0}\frac{ f_v(ge^{rX})-f(g) }{ t }\\
		&=\lim_{t\to 0}\frac{ T(ge^{tX})v-T(g)v }{ t }\\
		&=T(g)\overline{ \varphi }(X)v.
\end{split}
\end{equation}
The continuity of $\dpt{ T(g) }{ E }{ E }$ justifies the inversion of the limit and $T(g)$. So we have
\[ 
  (df_v)_g\tilde X_g=T(g)\overline{ \varphi }(X)v=\overline{ \varphi }(\Ad(g)X)T(g)v.
\]
Let us proceed by induction and suppose that for all $v\in S$, the map $f_v$ is $C^k$. In particular, $f_{\overline{ \varphi }(X)v}$ is $C^k$ and thus $g\to T(g)\overline{ \varphi }(X)v=(df_v)_gX$ is $C^k$ for each $X\in T_gG$. This is just the condition for $f_v$ to be $C^{k+1}$.

The induction begins by the fact that $f_v$ is continuous from definition of a representation.

\end{proof}

\begin{definition}

If $\dpt{ T }{ G }{ \End E }$ is a strongly continuous representation of the Lie group $G$ on the Hilbert space $E$, the \defe{G\r arding space}{G\r arding space} is the subspace of $E$ generated by vectors of the form\nomenclature{$T(f)$}{Generators of G\r arding space}
\begin{equation}
  T(f)v=\int_Gf(g)T(g)v\,d\mu(g)
\end{equation}
where $\mu$is a left invariant Haar measure on $G$, $v\in E$ and $f\in C^{\infty}(G,\eC)$.

\end{definition}

\begin{proposition}
The G\r arding space is stable under $\overline{ \varphi }(X)$ and 
\begin{equation}
\overline{ \varphi }(X)[T(f)v]=-T(\utilde Xf)v
\end{equation}
where $\utilde X$ is the right invariant vector field on $G$ generated by $X\in\mG$.

\end{proposition}

\begin{proof}
For each $t\neq 0$, we have
\begin{align}
 \frac{ T(e^{tX})-\mtu }{ t }T(f)v&=\frac{1}{ t }[T(e^tX)-\mtu]\int_G f(g)T(g)v\,d\mu(g),
 \intertext{let's say that one can permute the operator and the integral, and apply the change of variable $g'=e^{tX}g$ in the first term. The measure being invariant we find}
		&=\frac{1}{ t }\int_G f(e^{-tX}g'))T(g')v\,d\mu(g')-\frac{1}{ t }\int_G f(g)T(g)v\,d\mu(g)\\
		&=\int_G \frac{ f(e^{-tX}g)-f(g) }{ t }T(g)v\,d\mu(g).
\end{align}
Taking the limit $t\to 0$ (which can be permuted with the integral), it comes
\begin{equation}
\begin{split}
\overline{ \varphi }(X)T(f)v&=\utilde{(-X)}_gfT(g)v\\
			&=T(-\utilde Xf)v
\end{split}
\end{equation}
which is the claim.


\end{proof}


\begin{theorem}
   The G\r arding space of $ C^{\infty}(T)$ is dense in $E$. Then $ C^{\infty}(T)$ itself is dense in $E$.
\end{theorem}

\begin{proof}
Let $v\in E$ and $\varepsilon>0$. We are going to find an element of the G\r arding space at a distance lower than $\varepsilon$ of $v$. From assumption, $T$ is strongly continuous. We define
\[ 
  S=\{ g\in G\tq |T(g)v-v|\leq\varepsilon \}
\]
which is open by strong continuity. Let $f$ be a continuous positive function with support contained in $S$ and such that $\int_G f\,d\mu=1$. With this function,
\[ 
  | T(f)v-v |=\left|  \int_G f(g)[T(g)v-v]\,d\mu(g)  \right|.
\]
We can change the integral over $G$ into an integral over $S$ because $f=0$ outside $S$ and enforce the inequality by entering the norm in the integral. So
\begin{equation}
\begin{split}
| T(f)v-v |&\leq\int_S f(g)| T(g)v-v |\,d\mu(g)\\
	&\leq\varepsilon\int_S f(g)\,d\mu(g)=\varepsilon.
\end{split}
\end{equation}



\end{proof}
